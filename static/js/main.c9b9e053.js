(()=>{"use strict";var e={4828:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Ue});var r=o(6665),n=o(6520),a=o(8456),i=o(1757),l=o(8833),s=o(296),d=o(3929),u=o(6283),c=o(5648),f=o(1815),g=o(3668),b=o(9632),m=o(467),h=o(4467),p=o(5458),y=o(4360),x=o(1087);function j(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?j(Object(o),!0).forEach(function(t){(0,h.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var C=(0,y.create)(function(e,t){return{escobaScores:[{name:"Nosotros",score:0},{name:"Ellos",score:0}],escobaPlayers:["Nosotros","Ellos"],escobaHistory:[],trucoScores:[{name:"Nosotros",score:0},{name:"Ellos",score:0}],trucoTeams:["Nosotros","Ellos"],trucoHistory:[],trucoPlayerCount:2,truco6Teams:[{name:"Nosotros",score:0,players:["Jugador 1","Jugador 2","Jugador 3"]},{name:"Ellos",score:0,players:["Jugador 4","Jugador 5","Jugador 6"]}],truco6CurrentTurn:0,truco6Alliances:[],truco6GamePhase:"normal",truco6History:[],modoTruco:"redondo",rondaActual:0,duelosPicaPica:[["Jugador 1","Jugador 4"],["Jugador 2","Jugador 5"],["Jugador 3","Jugador 6"]],setEscobaPlayers:function(o){var r=o.map(function(e,o){var r;return{name:e,score:(null==(r=t().escobaScores[o])?void 0:r.score)||0}});e({escobaPlayers:o,escobaScores:r}),t().saveToStorage()},addEscobaPlayer:function(){e(function(e){var t=`Jugador ${e.escobaPlayers.length+1}`;return{escobaPlayers:[].concat((0,p.default)(e.escobaPlayers),[t]),escobaScores:[].concat((0,p.default)(e.escobaScores),[{name:t,score:0}])}}),t().saveToStorage()},removeEscobaPlayer:function(o){e(function(e){return e.escobaPlayers.length<=2?e:{escobaPlayers:e.escobaPlayers.filter(function(e,t){return t!==o}),escobaScores:e.escobaScores.filter(function(e,t){return t!==o})}}),t().saveToStorage()},addEscobaScore:function(o,r){e(function(e){return{escobaScores:e.escobaScores.map(function(e,t){return t===o?v(v({},e),{},{score:e.score+r}):e}),escobaHistory:[].concat((0,p.default)(e.escobaHistory),[{playerIndex:o,points:r,timestamp:Date.now()}])}}),t().saveToStorage()},undoLastEscobaScore:function(){e(function(e){var t=(0,p.default)(e.escobaHistory),o=t.pop();return o?{escobaScores:e.escobaScores.map(function(e,t){return t===o.playerIndex?v(v({},e),{},{score:Math.max(0,e.score-o.points)}):e}),escobaHistory:t}:e}),t().saveToStorage()},resetEscobaGame:function(){console.log("resetEscobaGame called in store"),e(function(e){return{escobaScores:e.escobaScores.map(function(e){return v(v({},e),{},{score:0})}),escobaHistory:[]}}),t().saveToStorage(),console.log("resetEscobaGame completed")},setTrucoPlayerCount:function(o){e({trucoPlayerCount:o}),e(6===o?{truco6Teams:[{name:"Nosotros",score:0,players:["Jugador 1","Jugador 2","Jugador 3"]},{name:"Ellos",score:0,players:["Jugador 4","Jugador 5","Jugador 6"]}],truco6History:[]}:{trucoScores:[{name:2===o?"Yo":"Nosotros",score:0},{name:2===o?"Vos":"Ellos",score:0}],trucoHistory:[]}),t().saveToStorage()},setTrucoTeams:function(o){var r=o.map(function(e,o){var r;return{name:e,score:(null==(r=t().trucoScores[o])?void 0:r.score)||0}});e({trucoTeams:o,trucoScores:r}),t().saveToStorage()},setTruco6Teams:function(o){var r=o.map(function(e,o){var r;return v(v({},e),{},{score:(null==(r=t().truco6Teams[o])?void 0:r.score)||0})});e({truco6Teams:r}),t().saveToStorage()},setTruco6PlayerNames:function(o,r){e(function(e){return{truco6Teams:e.truco6Teams.map(function(e,t){return t===o?v(v({},e),{},{players:r}):e})}}),t().saveToStorage()},setTruco6TeamName:function(o,r){e(function(e){return{truco6Teams:e.truco6Teams.map(function(e,t){return t===o?v(v({},e),{},{name:r}):e})}}),t().saveToStorage()},nextTruco6Turn:function(){e(function(e){return{truco6CurrentTurn:(e.truco6CurrentTurn+1)%2}}),t().saveToStorage()},setTruco6Turn:function(o){e({truco6CurrentTurn:o}),t().saveToStorage()},addTruco6Score:function(o,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";e(function(e){return{truco6Teams:e.truco6Teams.map(function(e,t){return t===o?v(v({},e),{},{score:e.score+r}):e}),truco6History:[].concat((0,p.default)(e.truco6History),[{teamIndex:o,points:r,type:n,timestamp:Date.now(),turn:e.truco6CurrentTurn}])}}),t().saveToStorage()},addTruco6Flor:function(o){e(function(e){return{truco6Teams:e.truco6Teams.map(function(e,t){return t===o?v(v({},e),{},{score:e.score+3}):e}),truco6History:[].concat((0,p.default)(e.truco6History),[{teamIndex:o,points:3,type:"flor",timestamp:Date.now(),turn:e.truco6CurrentTurn}]),truco6GamePhase:"flor"}}),t().saveToStorage()},addTruco6ContraFlor:function(o){e(function(e){return{truco6Teams:e.truco6Teams.map(function(e,t){return t===o?v(v({},e),{},{score:e.score+6}):e}),truco6History:[].concat((0,p.default)(e.truco6History),[{teamIndex:o,points:6,type:"contra-flor",timestamp:Date.now(),turn:e.truco6CurrentTurn}]),truco6GamePhase:"contra-flor"}}),t().saveToStorage()},addTruco6Envido:function(o,r){e(function(e){return{truco6Teams:e.truco6Teams.map(function(e,t){return t===o?v(v({},e),{},{score:e.score+r}):e}),truco6History:[].concat((0,p.default)(e.truco6History),[{teamIndex:o,points:r,type:"envido",timestamp:Date.now(),turn:e.truco6CurrentTurn}])}}),t().saveToStorage()},addTruco6FaltaEnvido:function(o){e(function(e){var t,r=e.truco6Teams[o].score;return t=r<15?15-r:30-r,{truco6Teams:e.truco6Teams.map(function(e,r){return r===o?v(v({},e),{},{score:e.score+t}):e}),truco6History:[].concat((0,p.default)(e.truco6History),[{teamIndex:o,points:t,type:"falta-envido",timestamp:Date.now(),turn:e.truco6CurrentTurn}])}}),t().saveToStorage()},undoLastTruco6Score:function(){e(function(e){var t=(0,p.default)(e.truco6History),o=t.pop();return o?{truco6Teams:e.truco6Teams.map(function(e,t){return t===o.teamIndex?v(v({},e),{},{score:Math.max(0,e.score-o.points)}):e}),truco6History:t,truco6GamePhase:"flor"===o.type||"contra-flor"===o.type?"normal":e.truco6GamePhase}:e}),t().saveToStorage()},resetTruco6Game:function(){e(function(e){return{truco6Teams:e.truco6Teams.map(function(e){return v(v({},e),{},{score:0})}),truco6History:[],truco6CurrentTurn:0,truco6GamePhase:"normal",truco6Alliances:[]}}),t().saveToStorage()},addFaltaEnvido:function(o){e(function(e){var t,r=e.trucoScores[o].score,n=0===o?1:0;e.trucoScores[n].score;return t=r<15?15-r:30-r,{trucoScores:e.trucoScores.map(function(e,r){return r===o?v(v({},e),{},{score:e.score+t}):e}),trucoHistory:[].concat((0,p.default)(e.trucoHistory),[{teamIndex:o,points:t,type:"falta-envido",timestamp:Date.now()}])}}),t().saveToStorage()},addTrucoScore:function(o,r){e(function(e){return{trucoScores:e.trucoScores.map(function(e,t){return t===o?v(v({},e),{},{score:e.score+r}):e}),trucoHistory:[].concat((0,p.default)(e.trucoHistory),[{teamIndex:o,points:r,timestamp:Date.now()}])}}),t().saveToStorage()},undoLastTrucoScore:function(){e(function(e){var t=(0,p.default)(e.trucoHistory),o=t.pop();return o?{trucoScores:e.trucoScores.map(function(e,t){return t===o.teamIndex?v(v({},e),{},{score:Math.max(0,e.score-o.points)}):e}),trucoHistory:t}:e}),t().saveToStorage()},resetTrucoGame:function(){console.log("resetTrucoGame called in store"),e(function(e){return{trucoScores:e.trucoScores.map(function(e){return v(v({},e),{},{score:0})}),trucoHistory:[]}}),t().saveToStorage(),console.log("resetTrucoGame completed")},saveToStorage:function(){var e=(0,m.default)(function*(){var e=t();try{yield x.default.setItem("gameState",JSON.stringify({escobaScores:e.escobaScores,escobaPlayers:e.escobaPlayers,escobaHistory:e.escobaHistory,trucoScores:e.trucoScores,trucoTeams:e.trucoTeams,trucoHistory:e.trucoHistory,trucoPlayerCount:e.trucoPlayerCount,truco6Teams:e.truco6Teams,truco6CurrentTurn:e.truco6CurrentTurn,truco6Alliances:e.truco6Alliances,truco6GamePhase:e.truco6GamePhase,truco6History:e.truco6History,modoTruco:e.modoTruco,rondaActual:e.rondaActual,duelosPicaPica:e.duelosPicaPica}))}catch(o){console.error("Error saving to storage:",o)}});return function(){return e.apply(this,arguments)}}(),loadFromStorage:function(){var t=(0,m.default)(function*(){try{var t=yield x.default.getItem("gameState");if(t){var o=JSON.parse(t);e(o)}}catch(r){console.error("Error loading from storage:",r)}});return function(){return t.apply(this,arguments)}}(),setModoTruco:function(t){return e({modoTruco:t})},avanzarMano:function(){var o,r,n=t(),a=(null==(o=n.truco6Teams[0])?void 0:o.score)||0,i=(null==(r=n.truco6Teams[1])?void 0:r.score)||0;if(a<25&&i<25){var l=n.rondaActual+1;e({modoTruco:l%2===0?"picaPica":"redondo",rondaActual:l})}else e({modoTruco:"redondo"})},setDuelosPicaPica:function(t){return e({duelosPicaPica:t})},calcularFaltaEnvido:function(){var e,o,r=t();return"picaPica"===r.modoTruco?6:30-Math.max((null==(e=r.truco6Teams[0])?void 0:e.score)||0,(null==(o=r.truco6Teams[1])?void 0:o.score)||0)}}}),w=o(480),T=o(3048),S=o(5848),P=o(2004),F=o(3554),O=o(8264),z=o(2772),B=o(6725),R=o(5600),W=o(4494),k=o(5082),E=o(9493),I=o(4788),D=o(2964),H=o(397),V=function(e){var t=e.title,o=e.description,r=e.status,n=e.icon;return(0,H.jsxs)(d.default,{style:M.roadmapItem,children:[(0,H.jsxs)(d.default,{style:M.roadmapItemHeader,children:[n,(0,H.jsx)(u.default,{style:M.roadmapItemTitle,children:t}),(0,H.jsx)(d.default,{style:[M.statusBadge,"completed"===r?M.completedBadge:"pending"===r?M.pendingBadge:null],children:(0,H.jsx)(u.default,{style:M.statusText,children:"completed"===r?"Listo":"Pr\xf3ximamente"})})]}),(0,H.jsx)(u.default,{style:M.roadmapItemDescription,children:o})]})},L="#232323",J="#bbff01",A="#fff",N="#bdbdbd",M=g.default.create({overlay:{flex:1,backgroundColor:"rgba(24, 24, 24, 0.96)",justifyContent:"center",alignItems:"center"},modalContainer:{width:.92*B.default.get("window").width,maxHeight:.88*B.default.get("window").height,backgroundColor:"#181818",borderRadius:16,padding:18,borderWidth:2.5,borderColor:J,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.18,shadowRadius:6,elevation:3},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},modalTitle:{color:A,fontSize:24,fontWeight:"bold"},closeButton:{padding:8,borderWidth:2,borderColor:J,borderRadius:16,backgroundColor:L},roadmapList:{padding:0,marginTop:8},roadmapSubtitle:{color:N,fontSize:16,marginBottom:18,lineHeight:22,fontWeight:"bold",textAlign:"center"},roadmapItem:{backgroundColor:L,borderRadius:16,borderWidth:2,borderColor:J,padding:16,marginBottom:14},roadmapItemHeader:{flexDirection:"row",alignItems:"center",marginBottom:8},roadmapItemTitle:{color:A,fontSize:16,fontWeight:"bold",marginLeft:8,flex:1},statusBadge:{paddingHorizontal:8,paddingVertical:4,borderRadius:8,backgroundColor:"#232323",borderWidth:1.5,borderColor:J},completedBadge:{backgroundColor:"#232323"},pendingBadge:{backgroundColor:"#232323"},statusText:{color:J,fontWeight:"bold",fontSize:12},roadmapItemDescription:{color:N,fontSize:14,fontWeight:"600",marginLeft:28},footerNote:{alignItems:"center",marginTop:24,marginBottom:8},footerNoteText:{color:N,fontSize:13,textAlign:"center",marginBottom:8,fontWeight:"bold"},supportLink:{color:J,fontWeight:"bold",textAlign:"center",textDecorationLine:"underline",fontSize:14}});const G=function(e){var t=e.isVisible,o=e.onClose,r=[{title:"Truco",description:"Juego de cartas tradicional argentino para 2 o 4 jugadores",status:"completed",icon:(0,H.jsx)(R.default,{size:20,color:"#84cc16"})},{title:"Chinch\xf3n",description:"Juego de cartas para 2 a 6 jugadores",status:"completed",icon:(0,H.jsx)(R.default,{size:20,color:"#84cc16"})},{title:"Escoba de 15",description:"Juego de cartas para 2 o 4 jugadores",status:"completed",icon:(0,H.jsx)(R.default,{size:20,color:"#84cc16"})},{title:"P\xf3ker",description:"Variantes de p\xf3ker para m\xfaltiples jugadores",status:"pending",icon:(0,H.jsx)(W.default,{size:20,color:"#fbbf24"})},{title:"Burako",description:"Juego de cartas ruso popular en Argentina",status:"pending",icon:(0,H.jsx)(W.default,{size:20,color:"#fbbf24"})},{title:"Estad\xedsticas avanzadas",description:"Historial de partidas, gr\xe1ficos y an\xe1lisis de rendimiento",status:"pending",icon:(0,H.jsx)(k.default,{size:20,color:"#fbbf24"})},{title:"Modo offline mejorado",description:"Sincronizaci\xf3n autom\xe1tica cuando hay conexi\xf3n",status:"pending",icon:(0,H.jsx)(k.default,{size:20,color:"#fbbf24"})},{title:"Temas personalizables",description:"Diferentes colores y estilos para la interfaz",status:"pending",icon:(0,H.jsx)(k.default,{size:20,color:"#fbbf24"})},{title:"Versi\xf3n Web (PWA)",description:"Instala la app en cualquier dispositivo desde el navegador",status:"pending",icon:(0,H.jsx)(k.default,{size:20,color:"#fbbf24"})},{title:"App para iOS y Android",description:"Mejoras continuas y optimizaci\xf3n para ambas plataformas",status:"pending",icon:(0,H.jsx)(E.default,{size:20,color:"#fbbf24"})},{title:"Cuentas de Usuario",description:"Guarda tu progreso y estad\xedsticas en la nube para acceder desde cualquier dispositivo.",status:"pending",icon:(0,H.jsx)(I.default,{size:20,color:"#fbbf24"})}];return(0,H.jsx)(O.default,{visible:t,transparent:!0,onRequestClose:o,animationType:"slide",children:(0,H.jsx)(d.default,{style:M.overlay,children:(0,H.jsxs)(d.default,{style:M.modalContainer,children:[(0,H.jsxs)(d.default,{style:M.modalHeader,children:[(0,H.jsx)(u.default,{style:M.modalTitle,children:"Roadmap"}),(0,H.jsx)(c.default,{onPress:o,style:M.closeButton,children:(0,H.jsx)(D.default,{size:24,color:"#84cc16"})})]}),(0,H.jsxs)(z.default,{style:M.roadmapList,showsVerticalScrollIndicator:!1,children:[(0,H.jsx)(u.default,{style:M.roadmapSubtitle,children:"Nuevos juegos y mejoras que estamos desarrollando"}),r.map(function(e,t){return(0,H.jsx)(V,{title:e.title,description:e.description,status:e.status,icon:e.icon},t)}),(0,H.jsxs)(d.default,{style:M.footerNote,children:[(0,H.jsx)(T.default,{size:24,color:"#ef4444",style:{marginBottom:12}}),(0,H.jsx)(u.default,{style:M.footerNoteText,children:"Esta app es un proyecto personal hecho con mucho cari\xf1o. Si te gusta, consider\xe1 apoyar el desarrollo para seguir agregando nuevas funciones y juegos."}),(0,H.jsx)(c.default,{onPress:function(){return b.default.openURL("https://www.buymeacoffee.com/cufanic")},children:(0,H.jsx)(u.default,{style:M.supportLink,children:"\xa1Cada colaboraci\xf3n ayuda a mantener el proyecto vivo!"})})]})]})]})})})};var q="#232323",$="#bbff01",U="#bbff01",Y="#fff",_="#bdbdbd",K=function(e){var t=e.icon,o=e.title,r=e.subtitle,n=e.onPress;return(0,H.jsxs)(c.default,{onPress:n,style:X.gameCard,activeOpacity:.85,children:[(0,H.jsxs)(d.default,{style:X.cardContent,children:[t,(0,H.jsxs)(d.default,{style:X.cardText,children:[(0,H.jsx)(u.default,{style:X.cardTitle,children:o}),(0,H.jsx)(u.default,{style:X.cardSubtitle,children:r})]})]}),(0,H.jsx)(w.default,{size:24,color:U})]})};function Q(e){var t=e.navigation,o=C().loadFromStorage,n=(0,r.useState)(!1),a=(0,s.default)(n,2),i=a[0],l=a[1];(0,r.useEffect)(function(){o()},[]);var g=function(e){t.navigate(e)};return(0,H.jsxs)(d.default,{style:X.container,children:[(0,H.jsx)(f.default,{barStyle:"light-content"}),(0,H.jsxs)(d.default,{style:X.content,children:[(0,H.jsx)(u.default,{style:X.title,children:"Anotador"}),(0,H.jsx)(u.default,{style:X.subtitle,children:"Selecciona un juego"}),(0,H.jsxs)(d.default,{style:X.gamesContainer,children:[(0,H.jsx)(K,{title:"Truco",subtitle:"Para 2, 4 o 6 jugadores",icon:(0,H.jsx)(T.default,{size:28,color:U,style:X.icon}),onPress:function(){return g("Truco")}}),(0,H.jsx)(K,{title:"Chinch\xf3n",subtitle:"De 2 a 6 jugadores",icon:(0,H.jsx)(S.default,{size:28,color:U,style:X.icon}),onPress:function(){return g("Chinchon")}}),(0,H.jsx)(K,{title:"Escoba de 15",subtitle:"De 2 a 6 jugadores",icon:(0,H.jsx)(P.default,{size:28,color:U,style:X.icon}),onPress:function(){return g("Escoba")}})]}),(0,H.jsxs)(d.default,{style:X.bottomContent,children:[(0,H.jsx)(d.default,{style:X.roadmapCard,children:(0,H.jsxs)(c.default,{style:X.roadmapRow,onPress:function(){return l(!0)},children:[(0,H.jsx)(F.default,{size:22,color:U,style:X.icon}),(0,H.jsxs)(d.default,{style:X.roadmapTextContainer,children:[(0,H.jsx)(u.default,{style:X.roadmapTitle,children:"Roadmap"}),(0,H.jsx)(u.default,{style:X.roadmapSubtitle,children:"Nuevos juegos y mejoras en camino. \xa1Mir\xe1 nuestro plan!"})]})]})}),(0,H.jsx)(c.default,{style:X.buyMeABeerButton,onPress:function(){return b.default.openURL("https://www.buymeacoffee.com/cufanic")},children:(0,H.jsx)(u.default,{style:X.buyMeABeerText,children:"Buy me a beer \ud83c\udf7a"})}),(0,H.jsxs)(u.default,{style:X.footerSignature,children:["Hecho con ",(0,H.jsx)(u.default,{style:{color:"#ff3d5a"},children:"\u2764\ufe0f"})," por ",(0,H.jsx)(u.default,{style:X.cufaLink,onPress:function(){return b.default.openURL("https://facugon85.github.io/dev_cv/#")},children:"Cufa"})]}),(0,H.jsx)(u.default,{style:X.versionText,children:"v1.3.5"})]})]}),(0,H.jsx)(G,{isVisible:i,onClose:function(){return l(!1)}})]})}var X=g.default.create({container:{flex:1,backgroundColor:"#181818",paddingHorizontal:16,paddingTop:32},content:{flex:1,alignItems:"center",justifyContent:"flex-start"},title:{color:Y,fontSize:44,fontWeight:"bold",textAlign:"center",marginBottom:8},subtitle:{color:_,fontSize:20,fontWeight:"600",textAlign:"center",marginBottom:36},gamesContainer:{width:"100%",marginBottom:18},gameCard:{backgroundColor:q,borderWidth:2.5,borderColor:$,borderRadius:16,padding:18,flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:16},cardContent:{flexDirection:"row",alignItems:"center",flex:1},cardText:{marginLeft:16,flex:1},cardTitle:{color:Y,fontSize:22,fontWeight:"bold",marginBottom:2},cardSubtitle:{color:$,fontSize:15,fontWeight:"600"},icon:{marginRight:4},roadmapCard:{width:"100%",backgroundColor:q,borderWidth:2.5,borderColor:$,borderRadius:16,marginBottom:18,padding:14},roadmapRow:{flexDirection:"row",alignItems:"center"},roadmapTextContainer:{marginLeft:12,flex:1},roadmapTitle:{color:Y,fontSize:17,fontWeight:"bold",marginBottom:2},roadmapSubtitle:{color:$,fontSize:13,fontWeight:"600"},buyMeABeerButton:{backgroundColor:"#ffe600",borderRadius:16,paddingVertical:14,paddingHorizontal:32,alignItems:"center",justifyContent:"center",marginTop:8,marginBottom:18,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.18,shadowRadius:6,elevation:3},buyMeABeerText:{color:"#111",fontWeight:"bold",fontSize:20},footerSignature:{color:_,fontSize:15,marginTop:12,textAlign:"center",fontWeight:"bold"},cufaLink:{color:$,fontWeight:"bold",textDecorationLine:"underline"},versionText:{color:_,fontSize:13,textAlign:"center",marginTop:2,fontWeight:"bold"},bottomContent:{width:"100%",marginTop:"auto",alignItems:"center",marginBottom:16}}),Z=o(6773),ee=o(1690),te=o(3982),oe=o(5055),re=o(6709),ne=o(5044),ae=g.default.create({card:{backgroundColor:"#232323",borderRadius:16,padding:20,borderWidth:2,marginBottom:16,borderColor:"#bbff01"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},nameContainer:{flexDirection:"row",alignItems:"center",flex:1},name:{color:"#FFFFFF",fontSize:24,fontWeight:"bold"},icon:{marginLeft:8},score:{color:"#bbff01",fontSize:36,fontWeight:"bold"},winnerScore:{color:"#FFFF00"},overLimitScore:{color:"#FF0000"},progressContainer:{width:"100%",backgroundColor:"#444",borderRadius:12,height:12,overflow:"hidden",marginTop:8},progressBar:{height:12,borderRadius:12,backgroundColor:"#bbff01",position:"absolute",left:0,top:0,bottom:0},overLimitProgress:{backgroundColor:"#FF0000"},divisionMarker:{position:"absolute",top:-12,zIndex:2,alignItems:"center"},divisionLine:{width:2,height:20,backgroundColor:"#bbff01",borderRadius:0},divisionText:{color:"#bbff01",fontSize:10,marginTop:2,fontWeight:"bold"},crownContainer:{position:"absolute",top:-10,right:-10,backgroundColor:"#232323",borderRadius:0,width:40,height:40,justifyContent:"center",alignItems:"center",borderWidth:3,borderColor:"#FFFF00"},trucoProgressRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",gap:16,marginTop:8},trucoBarContainer:{flex:1,flexDirection:"column",alignItems:"center"},trucoBarLabel:{color:"#bbff01",fontSize:12,marginBottom:4,fontWeight:"bold"},trucoBarLabelLeft:{color:"#bbff01",fontSize:12,marginBottom:4,alignSelf:"flex-start",textAlign:"left",fontWeight:"bold"},trucoProgressBar:{width:"100%",backgroundColor:"#232323",borderRadius:0,height:8,overflow:"hidden",borderWidth:2,borderColor:"#bbff01"},trucoProgressFill:{height:8,borderRadius:0,backgroundColor:"#bbff01",borderWidth:1,borderColor:"#232323"}});const ie=function(e){var t=e.name,o=e.score,r=e.isWinner,n=e.isLeading,a=(e.isLast,e.maxScore),i=e.onPress,l=e.gameType,s=void 0===l?"truco":l,f=(e.playerCount,e.isCurrentTurn),g=void 0!==f&&f,b=(e.players,a>0?Math.min(o/a*100,100):0),m=a>0&&o>a;return(0,H.jsxs)(c.default,{onPress:i,disabled:!i,style:[ae.card,g&&ae.currentTurnCard],activeOpacity:.9,children:[(0,H.jsxs)(d.default,{style:ae.header,children:[(0,H.jsxs)(d.default,{style:ae.nameContainer,children:[(0,H.jsx)(u.default,{style:ae.name,children:t}),"truco"===s&&(0,H.jsx)(oe.default,{size:22,color:n?"#84cc16":"#52525b",style:ae.icon}),m&&(0,H.jsx)(re.default,{size:20,color:"#737373",style:ae.icon}),g&&(0,H.jsx)(ne.default,{size:20,color:"#84cc16",style:ae.icon})]}),(0,H.jsx)(u.default,{style:[ae.score,r&&ae.winnerScore,m&&ae.overLimitScore],children:o})]}),a>0&&(0,H.jsx)(H.Fragment,{children:"truco"===s?function(){if("truco"!==s)return null;var e=Math.min(o/15*100,100),t=o>15?Math.min((o-15)/15*100,100):0;return(0,H.jsxs)(d.default,{style:{flexDirection:"row",gap:16,marginTop:12},children:[(0,H.jsxs)(d.default,{style:{flex:1},children:[(0,H.jsx)(u.default,{style:{color:"#bdbdbd",fontSize:13,fontWeight:"bold",marginBottom:2},children:"0 a 15 malas"}),(0,H.jsx)(d.default,{style:{width:"100%",height:14,backgroundColor:"#444",borderRadius:8,overflow:"hidden"},children:(0,H.jsx)(d.default,{style:{width:`${e}%`,height:"100%",backgroundColor:"#7bb420",borderRadius:8}})})]}),(0,H.jsxs)(d.default,{style:{flex:1},children:[(0,H.jsx)(u.default,{style:{color:"#bdbdbd",fontSize:13,fontWeight:"bold",marginBottom:2},children:"16 a 30 buenas"}),(0,H.jsx)(d.default,{style:{width:"100%",height:14,backgroundColor:"#444",borderRadius:8,overflow:"hidden"},children:(0,H.jsx)(d.default,{style:{width:`${t}%`,height:"100%",backgroundColor:"#7bb420",borderRadius:8}})})]})]})}():(0,H.jsx)(d.default,{style:ae.progressContainer,children:(0,H.jsx)(d.default,{style:[ae.progressBar,{width:`${b}%`,backgroundColor:"chinchon"===s?o>=.75*a?"#f97316":o>=.5*a?"#facc15":"#84cc16":ae.progressBar.backgroundColor},m&&ae.overLimitProgress]})})}),r&&(0,H.jsx)(d.default,{style:ae.crownContainer,children:(0,H.jsx)(ne.default,{size:20,color:"#171717"})})]})};function le(e){var t=e.label,o=e.onPress,r=e.icon,n=e.variant,a=void 0===n?"default":n,i=e.style,l=void 0===i?{}:i,s=e.disabled,f=void 0!==s&&s;return(0,H.jsxs)(c.default,{style:[function(){var e=[se.button,se[a]];return f&&e.push(se.disabled),e}(),l],onPress:o,disabled:f,activeOpacity:.8,children:[r&&(0,H.jsx)(d.default,{style:se.iconContainer,children:r}),(0,H.jsx)(u.default,{style:function(){var e=[se.text,se[`${a}Text`]];return"secondary"===a&&e.push({color:"#fff"}),e}(),children:t})]})}var se=g.default.create({button:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:16,paddingHorizontal:20,paddingVertical:16,borderWidth:2},default:{backgroundColor:"#232323",borderColor:"#444"},danger:{backgroundColor:"#d32f2f",borderColor:"#d32f2f"},black:{backgroundColor:"#181818",borderColor:"#111"},lime:{backgroundColor:"#181818",borderColor:"#bbff01"},disabled:{opacity:.4},text:{fontSize:18,fontWeight:"bold",textAlign:"center",marginLeft:8},defaultText:{color:"#fff"},dangerText:{color:"#fff"},blackText:{color:"#fff"},limeText:{color:"#fff",fontWeight:"bold"},iconContainer:{marginRight:8,marginBottom:0}});function de(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function ue(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?de(Object(o),!0).forEach(function(t){(0,h.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):de(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var ce=g.default.create({overlay:{flex:1,backgroundColor:"rgba(24, 24, 24, 0.96)",justifyContent:"center",alignItems:"center"},modalContainer:{width:.92*B.default.get("window").width,maxHeight:.88*B.default.get("window").height,backgroundColor:"#181818",borderRadius:24,padding:22,alignItems:"center",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:8,borderWidth:2,borderColor:"#444"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:18},modalTitle:{fontSize:22,fontWeight:"900",color:"#FFFFFF"},modalScore:{fontSize:28,fontWeight:"900",color:"#ffe600"},buttonsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",maxWidth:340},buttonWrapper:{margin:8,width:120,height:120},squareButton:{width:"100%",height:"100%",borderRadius:18,flexDirection:"column",justifyContent:"center",alignItems:"center",paddingHorizontal:0,paddingVertical:0,borderWidth:2,borderColor:"#fff",backgroundColor:"#232323",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:2},closeButton:{marginTop:18,backgroundColor:"#7bb420",borderRadius:18,paddingVertical:14,paddingHorizontal:36,borderWidth:0,alignItems:"center",justifyContent:"center"},closeButtonText:{color:"#fff",fontSize:18,fontWeight:"900"}});const fe=function(e){var t=e.isVisible,o=e.onClose,r=e.player,n=e.buttons;if(!r)return null;var a=r.nombre||r.name,i=r.score||r.puntos;return(0,H.jsx)(O.default,{animationType:"slide",transparent:!0,visible:t,onRequestClose:o,children:(0,H.jsx)(c.default,{style:ce.overlay,activeOpacity:1,onPressOut:o,children:(0,H.jsxs)(d.default,{style:ce.modalContainer,children:[(0,H.jsxs)(d.default,{style:ce.modalHeader,children:[(0,H.jsx)(u.default,{style:ce.modalTitle,children:a}),(0,H.jsx)(u.default,{style:[ce.modalScore,{color:r.color||"#bbff01"}],children:i})]}),(0,H.jsx)(z.default,{contentContainerStyle:ce.buttonsGrid,children:n.map(function(e,t){return(0,H.jsx)(d.default,{style:ce.buttonWrapper,children:(0,H.jsx)(le,{label:e.label,onPress:e.onPress,icon:e.icon,variant:e.variant,disabled:e.disabled,style:ue(ue({},e.style),ce.squareButton)})},t)})}),(0,H.jsx)(le,{label:"Confirmar",onPress:o,style:ce.closeButton,variant:"lime"})]})})})};var ge=g.default.create({overlay:{flex:1,backgroundColor:"rgba(24, 24, 24, 0.96)",justifyContent:"center",alignItems:"center"},modalContainer:{width:.88*B.default.get("window").width,backgroundColor:"#181818",borderRadius:22,padding:28,alignItems:"center",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:8,borderWidth:2,borderColor:"#fff"},title:{color:"#FFFFFF",fontSize:24,fontWeight:"900",marginBottom:16,textAlign:"center"},message:{color:"#bdbdbd",fontSize:17,marginBottom:28,textAlign:"center",lineHeight:24,fontWeight:"600"},buttonRow:{flexDirection:"row",justifyContent:"space-between",width:"100%",marginTop:8},button:{flex:1,marginHorizontal:8}});const be=function(e){var t=e.isVisible,o=e.onClose,r=e.onConfirm,n=e.title,a=e.message;return(0,H.jsx)(O.default,{animationType:"fade",transparent:!0,visible:t,onRequestClose:o,children:(0,H.jsx)(d.default,{style:ge.overlay,children:(0,H.jsxs)(d.default,{style:ge.modalContainer,children:[(0,H.jsx)(u.default,{style:ge.title,children:n}),(0,H.jsx)(u.default,{style:ge.message,children:a}),(0,H.jsxs)(d.default,{style:ge.buttonRow,children:[(0,H.jsx)(le,{label:"Cancelar",onPress:o,variant:"secondary",style:ge.button}),(0,H.jsx)(le,{label:"Confirmar",onPress:function(){r(),o()},variant:"danger",style:ge.button})]})]})})})};var me=o(6131),he=o(9988),pe=o(630),ye=o(6567),xe=o(5395),je=o(9470),ve=o(9812);function Ce(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function we(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(o),!0).forEach(function(t){(0,h.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ce(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}(0,a.default)();function Te(e){var t=e.navigation,o=C(),n=o.escobaScores,a=o.addEscobaScore,i=(o.undoLastEscobaScore,o.resetEscobaGame),l=o.setEscobaPlayers,g=o.escobaPlayers,b=o.addEscobaPlayer,m=o.removeEscobaPlayer,h=(0,r.useState)(!1),y=(0,s.default)(h,2),x=y[0],j=y[1],v=(0,r.useState)((0,p.default)(g)),w=(0,s.default)(v,2),T=w[0],S=w[1],P=(0,r.useState)(!1),F=(0,s.default)(P,2),B=F[0],R=F[1],W=(0,r.useState)(null),E=(0,s.default)(W,2),I=E[0],V=E[1],L=(0,r.useState)(!1),J=(0,s.default)(L,2),A=J[0],N=J[1],M=(0,r.useState)(!1),G=(0,s.default)(M,2),q=G[0],$=G[1],U=(0,r.useRef)(new te.default.Value(0)).current,Y=(0,r.useRef)(new te.default.Value(0)).current,_=(0,r.useRef)(new te.default.Value(0)).current;(0,r.useEffect)(function(){S((0,p.default)(g))},[g]);var K=n.find(function(e){return e.score>=15}),Q=(0,r.useMemo)(function(){if(n.length<2)return{leader:null,last:null};var e=(0,p.default)(n).sort(function(e,t){return t.score-e.score});return{leader:e[0],last:e[e.length-1]}},[n]),X=Q.leader,oe=Q.last;(0,r.useEffect)(function(){K&&(R(!1),re(),ee.default.alert("\xa1Fin del Juego!",`\xa1${K.name} ha ganado la partida!`,[{text:"Nueva Partida",onPress:function(){return N(!0)},style:"destructive"},{text:"OK",style:"cancel"}]))},[K]);var re=function(){$(!0),te.default.timing(_,{toValue:1,duration:300,useNativeDriver:!0}).start()},ne=function(){te.default.timing(_,{toValue:0,duration:300,useNativeDriver:!0}).start(function(){$(!1)})},ae=function(){te.default.parallel([te.default.timing(U,{toValue:0,duration:300,useNativeDriver:!0}),te.default.timing(Y,{toValue:0,duration:300,useNativeDriver:!0})]).start(function(){j(!1)})},se=function(){T.every(function(e){return e.trim()})?(l(T),ae()):ee.default.alert("Error","Todos los nombres de jugadores deben estar completos")},de=null!==I?we(we({},n[I]),{},{index:I}):null,ue=de?[{label:"Escoba +1",onPress:function(){return a(de.index,1)},icon:(0,H.jsx)(me.default,{size:18,color:"white"})},{label:"Cartas +1",onPress:function(){return a(de.index,1)},icon:(0,H.jsx)(k.default,{size:18,color:"white"})},{label:"Oros +1",onPress:function(){return a(de.index,1)},icon:(0,H.jsx)(k.default,{size:18,color:"white"})},{label:"Setenta +1",onPress:function(){return a(de.index,1)},icon:(0,H.jsx)(k.default,{size:18,color:"white"})},{label:"7 de Oro +1",onPress:function(){return a(de.index,1)},icon:(0,H.jsx)(k.default,{size:18,color:"white"})},{label:"Descontar -1",onPress:function(){return a(de.index,-1)},icon:(0,H.jsx)(he.default,{size:18,color:"white"}),variant:"danger"}].map(function(e){return we(we({},e),{},{disabled:!!K})}):[];return(0,H.jsxs)(d.default,{style:Se.container,children:[(0,H.jsx)(f.default,{barStyle:"light-content"}),q&&!B&&(0,H.jsx)(te.default.View,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,opacity:_},pointerEvents:"box-none",children:(0,H.jsx)(ve.default,{count:200,origin:{x:0,y:0},explosionSpeed:500,fallSpeed:4e3,fadeOut:!0,colors:["#ff3d5a","#ffe600","#7bb420","#00cfff","#bb86fc","#fff"],onAnimationEnd:ne})}),(0,H.jsx)(function(){return(0,H.jsx)(O.default,{visible:x,transparent:!0,onRequestClose:ae,children:(0,H.jsx)(te.default.View,{style:[Se.modalOverlay,{opacity:Y}],children:(0,H.jsxs)(te.default.View,{style:[Se.modalContent,{transform:[{translateY:U.interpolate({inputRange:[0,1],outputRange:[300,0]})}]}],children:[(0,H.jsxs)(d.default,{style:Se.modalHeader,children:[(0,H.jsx)(u.default,{style:Se.modalTitle,children:"Ajustes"}),(0,H.jsx)(c.default,{onPress:ae,style:Se.closeButton,children:(0,H.jsx)(D.default,{size:24,color:"white"})})]}),(0,H.jsxs)(z.default,{style:Se.modalList,children:[(0,H.jsx)(u.default,{style:Se.sectionTitle,children:"Jugadores"}),T.map(function(e,t){return(0,H.jsxs)(d.default,{style:Se.playerInputRow,children:[(0,H.jsx)(Z.default,{style:Se.playerInput,value:e,onChangeText:function(e){var o=(0,p.default)(T);o[t]=e,S(o)},placeholderTextColor:"#999"}),(0,H.jsx)(c.default,{onPress:function(){return m(t)},disabled:g.length<=2,style:{marginLeft:12},children:(0,H.jsx)(he.default,{size:28,color:"#ef4444"})})]},t)}),(0,H.jsx)(le,{label:"Agregar Jugador",onPress:function(){b()},icon:(0,H.jsx)(pe.default,{size:20,color:"white"}),variant:"secondary",disabled:g.length>=6,style:Se.addPlayerButton}),(0,H.jsx)(le,{label:"Guardar Cambios",onPress:se,style:Se.saveButton})]})]})})})},{}),(0,H.jsxs)(z.default,{contentContainerStyle:Se.scrollContent,children:[(0,H.jsxs)(d.default,{style:Se.header,children:[(0,H.jsxs)(d.default,{children:[(0,H.jsx)(u.default,{style:Se.title,children:"Escoba de 15"}),(0,H.jsxs)(u.default,{style:Se.subtitle,children:["A ",15," puntos"]})]}),(0,H.jsx)(c.default,{onPress:function(){j(!0),te.default.parallel([te.default.timing(U,{toValue:1,duration:300,useNativeDriver:!0}),te.default.timing(Y,{toValue:1,duration:300,useNativeDriver:!0})]).start()},style:Se.settingsButton,children:(0,H.jsx)(ye.default,{size:24,color:"white"})})]}),(0,H.jsx)(d.default,{children:n.map(function(e,t){return(0,H.jsx)(ie,{name:e.name,score:e.score,isWinner:(null==K?void 0:K.name)===e.name,isLeading:(null==X?void 0:X.name)===e.name,isLast:(null==oe?void 0:oe.name)===e.name&&n.length>1,maxScore:15,onPress:function(){return function(e){K||(V(e),R(!0))}(t)},gameType:"escoba"},t)})})]}),!x&&(0,H.jsx)(d.default,{style:Se.bottomBar,children:(0,H.jsxs)(d.default,{style:Se.buttonRow,children:[(0,H.jsx)(le,{label:"Volver",onPress:function(){return t.navigate("Home")},variant:"black",icon:(0,H.jsx)(xe.default,{size:20,color:"white"}),style:[Se.bottomButton,{backgroundColor:"#232323"}]}),(0,H.jsx)(le,{label:"Reiniciar",onPress:function(){N(!0),ne()},variant:"danger",icon:(0,H.jsx)(je.default,{size:20,color:"white"}),style:Se.bottomButton})]})}),(0,H.jsx)(fe,{isVisible:B,onClose:function(){return R(!1)},player:de,buttons:ue}),(0,H.jsx)(be,{isVisible:A,onClose:function(){return N(!1)},onConfirm:i,title:"Reiniciar Partida",message:"\xbfSeguro que quieres empezar de nuevo? Se perder\xe1 todo el progreso."})]})}var Se=g.default.create({container:{flex:1,backgroundColor:"#181818"},scrollContent:{paddingBottom:120,padding:24,paddingTop:48},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{color:"#FFFFFF",fontSize:36,fontWeight:"900",letterSpacing:-1},subtitle:{color:"#FFFFFF",fontSize:20,fontWeight:"700"},settingsButton:{backgroundColor:"#232323",padding:18,borderRadius:50,alignItems:"center",justifyContent:"center"},editPanel:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#181818",zIndex:10,padding:24,paddingTop:48},editHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:32},editTitle:{color:"#00FF00",fontSize:30,fontWeight:"900"},closeButton:{padding:8},inputContainer:{marginBottom:16},inputLabel:{color:"#FFFFFF",fontSize:18,fontWeight:"900",marginBottom:8},textInput:{backgroundColor:"#181818",color:"#FFFFFF",borderRadius:8,padding:16,fontSize:18,borderWidth:2,borderColor:"#444",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:2},saveButton:{backgroundColor:"#7bb420",borderRadius:20,paddingVertical:16,paddingHorizontal:32,alignItems:"center",justifyContent:"center",marginTop:8,marginBottom:18,borderWidth:0},saveButtonText:{color:"#FFFFFF",fontWeight:"bold",fontSize:20,textAlign:"center"},bottomBar:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"#181818",padding:16,borderTopWidth:0,shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:4},buttonRow:{flexDirection:"row",justifyContent:"space-around"},bottomButton:{flex:1,marginHorizontal:4},modalOverlay:{flex:1,backgroundColor:"rgba(24, 24, 24, 0.9)",justifyContent:"flex-end"},modalContent:{backgroundColor:"#181818",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"70%",marginTop:"auto",marginBottom:50,borderWidth:2,borderColor:"#444",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:8},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:24,borderBottomWidth:1,borderBottomColor:"#444"},modalTitle:{color:"#FFFFFF",fontSize:24,fontWeight:"900"},modalList:{padding:24},rulesButtonContainer:{alignItems:"center",marginTop:12},rulesButton:{width:220,borderRadius:0,marginTop:8,borderWidth:3,borderColor:"#00FF00"},sectionTitle:{color:"#FFFFFF",fontSize:20,fontWeight:"900",marginBottom:16},playerInputRow:{flexDirection:"row",alignItems:"center",marginBottom:16},playerInput:{backgroundColor:"#181818",color:"#FFFFFF",borderRadius:20,padding:16,fontSize:18,flex:1,borderWidth:2,borderColor:"#444",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:2},addPlayerButton:{backgroundColor:"transparent",borderRadius:16,borderWidth:2,borderColor:"#fff",alignItems:"center",justifyContent:"center",marginTop:8,marginBottom:8},addPlayerButtonText:{color:"#fff",fontWeight:"bold",fontSize:18,textAlign:"center"},progressBar:{backgroundColor:"#bbff01",height:18,borderRadius:12}}),Pe=o(4037),Fe=o(286),Oe=o(8241),ze=o(6575),Be=o(6195);function Re(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function We(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(o),!0).forEach(function(t){(0,h.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Re(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}(0,a.default)();var ke="#232323",Ee="#bbff01";function Ie(e){var t,o,n,a,i=e.navigation,l=C(),g=l.trucoScores,b=l.addTrucoScore,m=(l.undoLastTrucoScore,l.resetTrucoGame),h=l.setTrucoTeams,y=l.trucoTeams,x=l.addFaltaEnvido,j=l.trucoPlayerCount,v=l.setTrucoPlayerCount,w=l.truco6Teams,T=(l.truco6GamePhase,l.addTruco6Score),P=l.addTruco6Flor,F=l.addTruco6ContraFlor,B=l.addTruco6Envido,R=l.addTruco6FaltaEnvido,W=(l.undoLastTruco6Score,l.resetTruco6Game),k=l.setTruco6Teams,E=(l.setTruco6PlayerNames,l.setTruco6TeamName,l.nextTruco6Turn,l.setTruco6Turn,(0,r.useState)(!1)),I=(0,s.default)(E,2),V=I[0],L=I[1],J=(0,r.useState)((0,p.default)(y)),A=(0,s.default)(J,2),N=A[0],M=A[1],G=(0,r.useState)(!1),q=(0,s.default)(G,2),$=q[0],U=q[1],Y=(0,r.useState)(null),_=(0,s.default)(Y,2),K=_[0],Q=_[1],X=(0,r.useState)(!1),Z=(0,s.default)(X,2),oe=Z[0],re=Z[1],ne=(0,r.useState)(!1),ae=(0,s.default)(ne,2),se=ae[0],de=ae[1],ue=(0,r.useRef)(new te.default.Value(0)).current,ce=(0,r.useRef)(new te.default.Value(0)).current,ge=(0,r.useRef)(new te.default.Value(0)).current,me=(0,r.useState)([{name:(null==(t=w[0])?void 0:t.name)||"Nosotros",players:(null==(o=w[0])?void 0:o.players)||["Jugador 1","Jugador 2","Jugador 3"]},{name:(null==(n=w[1])?void 0:n.name)||"Ellos",players:(null==(a=w[1])?void 0:a.players)||["Jugador 4","Jugador 5","Jugador 6"]}]),pe=(0,s.default)(me,2),Ce=pe[0],we=pe[1],Te=(0,r.useState)(!1),Se=(0,s.default)(Te,2),Re=Se[0],ke=Se[1];(0,r.useEffect)(function(){var e,t,o,r;we([{name:(null==(e=w[0])?void 0:e.name)||"Nosotros",players:(null==(t=w[0])?void 0:t.players)||["Jugador 1","Jugador 2","Jugador 3"]},{name:(null==(o=w[1])?void 0:o.name)||"Ellos",players:(null==(r=w[1])?void 0:r.players)||["Jugador 4","Jugador 5","Jugador 6"]}]),M((0,p.default)(y))},[y,w]);var Ee=6===j?w.slice(0,2):g,Ie=Ee.find(function(e){return e.score>=30}),He=(0,r.useMemo)(function(){if(Ee.length<2)return{leader:null,last:null};var e=(0,p.default)(Ee).sort(function(e,t){return t.score-e.score});return{leader:e[0],last:e[e.length-1]}},[Ee]),Ve=He.leader,Le=He.last;(0,r.useEffect)(function(){Ie&&(U(!1),Me(),ee.default.alert("\xa1Fin del Juego!",`\xa1${Ie.name} ha ganado la partida!`,[{text:"Nueva Partida",onPress:function(){return re(!0)},style:"destructive"},{text:"OK",style:"cancel"}]))},[Ie]);var Je,Ae,Ne,Me=function(){de(!0),te.default.timing(ge,{toValue:1,duration:300,useNativeDriver:!0}).start()},Ge=function(){te.default.timing(ge,{toValue:0,duration:300,useNativeDriver:!0}).start(function(){de(!1)})},qe=function(){te.default.parallel([te.default.timing(ue,{toValue:0,duration:300,useNativeDriver:!0}),te.default.timing(ce,{toValue:0,duration:300,useNativeDriver:!0})]).start(function(){L(!1)})},$e=function(){6===j?Ce.every(function(e){return e.name.trim()&&e.players.every(function(e){return e.trim()})})?(k(Ce),qe()):ee.default.alert("Error","Todos los equipos y jugadores deben tener nombres"):N[0].trim()&&N[1].trim()?(h(N),qe()):ee.default.alert("Error","Los nombres de los equipos no pueden estar vac\xedos")},Ue=null!==K?We(We({},6===j?w[K]:g[K]),{},{index:K}):null,Ye=function(){if(!Ue)return[];var e=[{label:"+1 Punto",onPress:function(){6===j?T(Ue.index,1):b(Ue.index,1)},variant:"secondary",icon:(0,H.jsx)(Fe.default,{size:18,color:"white"})},{label:"-1 Punto",onPress:function(){6===j?Ue.score>0&&T(Ue.index,-1):Ue.score>0&&b(Ue.index,-1)},variant:"danger",icon:(0,H.jsx)(he.default,{size:18,color:"white"}),disabled:0===Ue.score}];return 6===j&&Re?[{label:"Flor (3)",onPress:function(){return P(Ue.index)},icon:(0,H.jsx)(Oe.default,{size:18,color:"white"}),variant:"secondary"},{label:"Contra Flor (6)",onPress:function(){return F(Ue.index)},icon:(0,H.jsx)(Oe.default,{size:18,color:"white"}),variant:"secondary"},{label:"Envido (2)",onPress:function(){return B(Ue.index,2)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"})},{label:"Real Envido (3)",onPress:function(){return B(Ue.index,3)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"})},{label:"Falta Envido",onPress:function(){return R(Ue.index)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"}),variant:"secondary"},{label:"Falta Envido (Pica Pica) (6)",onPress:function(){return T(Ue.index,6)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"}),variant:"secondary"},{label:"Truco (2)",onPress:function(){return T(Ue.index,2)},icon:(0,H.jsx)(Be.default,{size:18,color:"white"})},{label:"Retruco (3)",onPress:function(){return T(Ue.index,3)},icon:(0,H.jsx)(Be.default,{size:18,color:"white"})},{label:"Vale Cuatro (4)",onPress:function(){return T(Ue.index,4)},icon:(0,H.jsx)(Be.default,{size:18,color:"white"})}].concat(e):6===j?[{label:"Envido (2)",onPress:function(){return B(Ue.index,2)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"})},{label:"Real Envido (3)",onPress:function(){return B(Ue.index,3)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"})},{label:"Falta Envido",onPress:function(){return R(Ue.index)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"}),variant:"secondary"},{label:"Falta Envido (Pica Pica) (6)",onPress:function(){return T(Ue.index,6)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"}),variant:"secondary"},{label:"Truco (2)",onPress:function(){return T(Ue.index,2)},icon:(0,H.jsx)(Be.default,{size:18,color:"white"})},{label:"Retruco (3)",onPress:function(){return T(Ue.index,3)},icon:(0,H.jsx)(Be.default,{size:18,color:"white"})},{label:"Vale Cuatro (4)",onPress:function(){return T(Ue.index,4)},icon:(0,H.jsx)(Be.default,{size:18,color:"white"})}].concat(e):[{label:"Envido (2)",onPress:function(){return b(Ue.index,2)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"})},{label:"Real Envido (3)",onPress:function(){return b(Ue.index,3)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"})},{label:"Falta Envido",onPress:function(){return x(Ue.index)},icon:(0,H.jsx)(ze.default,{size:18,color:"white"}),variant:"secondary"},{label:"Truco (2)",onPress:function(){return b(Ue.index,2)},icon:(0,H.jsx)(Be.default,{size:18,color:"white"})},{label:"Retruco (3)",onPress:function(){return b(Ue.index,3)},icon:(0,H.jsx)(Be.default,{size:18,color:"white"})},{label:"Vale Cuatro (4)",onPress:function(){return b(Ue.index,4)},icon:(0,H.jsx)(Be.default,{size:18,color:"white"})}].concat(e)}().map(function(e){return We(We({},e),{},{disabled:!!Ie})});if(2===j)Je=[{name:"Yo",score:(null==(Ae=g[0])?void 0:Ae.score)||0},{name:"Vos",score:(null==(Ne=g[1])?void 0:Ne.score)||0}];else if(6===j)Je=w.map(function(e,t){return We(We({},e),{},{index:t})});else{var _e,Ke;Je=[{name:"Nosotros",score:(null==(_e=g[0])?void 0:_e.score)||0,index:0},{name:"Ellos",score:(null==(Ke=g[1])?void 0:Ke.score)||0,index:1}]}return(0,H.jsxs)(d.default,{style:De.container,children:[(0,H.jsx)(f.default,{barStyle:"light-content"}),se&&!$&&(0,H.jsx)(te.default.View,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,opacity:ge},pointerEvents:"box-none",children:(0,H.jsx)(ve.default,{count:200,origin:{x:0,y:0},explosionSpeed:500,fallSpeed:4e3,fadeOut:!0,colors:["#ff3d5a","#ffe600","#7bb420","#00cfff","#bb86fc","#fff"],onAnimationEnd:Ge})}),(0,H.jsx)(function(){return(0,H.jsx)(O.default,{visible:V,transparent:!0,onRequestClose:qe,children:(0,H.jsx)(te.default.View,{style:[De.modalOverlay,{opacity:ce}],children:(0,H.jsxs)(te.default.View,{style:[De.modalContent,{transform:[{translateY:ue.interpolate({inputRange:[0,1],outputRange:[300,0]})}]}],children:[(0,H.jsxs)(d.default,{style:De.modalHeader,children:[(0,H.jsx)(u.default,{style:De.modalTitle,children:"Ajustes"}),(0,H.jsx)(c.default,{onPress:qe,style:De.closeButton,children:(0,H.jsx)(D.default,{size:24,color:"white"})})]}),(0,H.jsxs)(z.default,{style:De.modalList,contentContainerStyle:{paddingBottom:32,paddingTop:8,paddingHorizontal:16},children:[(0,H.jsx)(u.default,{style:[De.sectionTitle,{marginBottom:18,marginTop:4}],children:"N\xfamero de Jugadores"}),(0,H.jsx)(d.default,{style:[De.playerCountContainer,{marginBottom:28}],children:[2,4,6].map(function(e){return(0,H.jsxs)(c.default,{style:[De.playerCountButton,j===e&&De.playerCountButtonActive,{marginHorizontal:4}],onPress:function(){return v(e)},children:[(0,H.jsx)(S.default,{size:20,color:j===e?"#232323":"#bbff01"}),(0,H.jsx)(u.default,{style:[De.playerCountText,j===e&&De.playerCountTextActive],children:e})]},e)})}),(0,H.jsxs)(d.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:32},children:[(0,H.jsx)(u.default,{style:{color:"#d4d4d4",fontSize:16,marginRight:12},children:"Habilitar Flor"}),(0,H.jsx)(Pe.default,{value:Re,onValueChange:ke,thumbColor:Re?"#84cc16":"#ccc",trackColor:{false:"#52525b",true:"#a3e635"}})]}),(0,H.jsx)(le,{label:"Guardar Cambios",onPress:$e,style:[De.saveButton,{marginTop:16,marginBottom:8,marginHorizontal:0}]})]})]})})})},{}),(0,H.jsxs)(z.default,{contentContainerStyle:De.scrollContent,children:[(0,H.jsxs)(d.default,{style:De.header,children:[(0,H.jsxs)(d.default,{children:[(0,H.jsx)(u.default,{style:De.title,children:"Truco"}),(0,H.jsx)(u.default,{style:De.subtitle,children:Re?"Con Flor":"Sin Flor"}),(0,H.jsxs)(u.default,{style:De.subtitle,children:["A ",30," puntos"]})]}),(0,H.jsx)(c.default,{onPress:function(){L(!0),te.default.parallel([te.default.timing(ue,{toValue:1,duration:300,useNativeDriver:!0}),te.default.timing(ce,{toValue:1,duration:300,useNativeDriver:!0})]).start()},style:De.settingsButton,children:(0,H.jsx)(ye.default,{size:24,color:"white"})})]}),(0,H.jsx)(d.default,{children:Je.map(function(e,t){return(0,H.jsx)(ie,{name:e.name,score:e.score,isWinner:(null==Ie?void 0:Ie.name)===e.name,isLeading:(null==Ve?void 0:Ve.name)===e.name,isLast:(null==Le?void 0:Le.name)===e.name&&Je.length>1,maxScore:30,onPress:function(){var o;return function(e){Ie||(Q(e),U(!0))}(null!=(o=e.index)?o:t)},gameType:"truco",playerCount:j,isCurrentTurn:6===j,players:6===j?e.players:void 0},t)})})]}),(0,H.jsx)(d.default,{style:De.bottomBar,children:(0,H.jsxs)(d.default,{style:De.buttonRow,children:[(0,H.jsx)(le,{label:"Volver",onPress:function(){return i.navigate("Home")},variant:"black",icon:(0,H.jsx)(xe.default,{size:20,color:"white"}),style:[De.bottomButton,{backgroundColor:"#232323"}]}),(0,H.jsx)(le,{label:"Reiniciar",onPress:function(){re(!0),Ge()},variant:"danger",icon:(0,H.jsx)(je.default,{size:20,color:"white"}),style:De.bottomButton})]})}),(0,H.jsx)(fe,{isVisible:$,onClose:function(){return U(!1)},player:Ue,buttons:Ye}),(0,H.jsx)(be,{isVisible:oe,onClose:function(){return re(!1)},onConfirm:function(){6===j?W():m()},title:"Nueva Partida",message:"\xbfEst\xe1s seguro de que quieres reiniciar la partida? Se perder\xe1n todos los puntos."})]})}var De=g.default.create({container:{flex:1,backgroundColor:"#181818"},scrollContent:{paddingBottom:120,padding:24,paddingTop:48},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:18,marginTop:8},title:{color:"#FFFFFF",fontSize:36,fontWeight:"900",letterSpacing:-1},subtitle:{color:"#bdbdbd",fontSize:16,fontWeight:"600",marginTop:2},settingsButton:{backgroundColor:"#232323",padding:18,borderRadius:50,alignItems:"center",justifyContent:"center"},teamCard:{backgroundColor:ke,borderWidth:2,borderColor:Ee,borderRadius:16,marginBottom:18,padding:16,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.12,shadowRadius:4,elevation:2},teamName:{color:"#fff",fontSize:20,fontWeight:"bold"},score:{color:Ee,fontSize:32,fontWeight:"bold"},progressBar:{backgroundColor:Ee,height:18,borderRadius:12},progressContainer:{backgroundColor:ke,borderRadius:8,borderWidth:1,borderColor:Ee,marginTop:8},actionBar:{flexDirection:"row",justifyContent:"space-between",marginTop:24,marginBottom:8},actionButton:{flex:1,marginHorizontal:8,borderRadius:16,borderWidth:2,borderColor:Ee,backgroundColor:ke,alignItems:"center",paddingVertical:14,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.12,shadowRadius:4,elevation:2},actionButtonText:{color:Ee,fontWeight:"bold",fontSize:18},resetButton:{borderColor:"#ff3d3d"},resetButtonText:{color:"#ff3d3d"},helpButton:{borderRadius:16,borderWidth:2,borderColor:Ee,backgroundColor:ke,alignItems:"center",paddingVertical:12,marginTop:8},helpButtonText:{color:Ee,fontWeight:"bold",fontSize:18},bottomBar:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"#181818",paddingVertical:20,paddingHorizontal:24,borderTopWidth:0,shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:4},buttonRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:16},bottomButton:{flex:1,marginHorizontal:8},rulesButtonContainer:{alignItems:"center"},rulesButton:{backgroundColor:"#302f2c",borderColor:"#00FF00",borderWidth:3},modalOverlay:{flex:1,backgroundColor:"rgba(48, 47, 44, 0.9)",justifyContent:"flex-end"},modalContent:{backgroundColor:"#181818",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"70%",marginTop:"auto",marginBottom:50,borderWidth:2,borderColor:"#444",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:8},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:24,borderBottomWidth:1,borderBottomColor:"#444"},modalTitle:{color:"#FFFFFF",fontSize:24,fontWeight:"900"},closeButton:{padding:8,borderWidth:2,borderColor:"#bbff01",borderRadius:16,backgroundColor:"#232323"},modalList:{padding:0},sectionTitle:{color:"#FFFFFF",fontSize:20,fontWeight:"900",marginBottom:16},playerCountContainer:{flexDirection:"row",justifyContent:"space-around",marginBottom:24},playerCountButton:{backgroundColor:"#232323",borderWidth:2,borderColor:"#bbff01",borderRadius:16,alignItems:"center",padding:16,marginHorizontal:4},playerCountButtonActive:{backgroundColor:"#bbff01",borderColor:"#bbff01"},playerCountText:{color:"#fff",fontWeight:"bold",fontSize:16,marginTop:4},playerCountTextActive:{color:"#232323",fontWeight:"bold"},saveButton:{backgroundColor:"#7bb420",borderColor:"#7bb420",borderRadius:20,paddingVertical:16,paddingHorizontal:32,alignItems:"center",justifyContent:"center",marginTop:8,marginBottom:18},saveButtonText:{color:"#FFFFFF",fontWeight:"bold",fontSize:20,textAlign:"center"},addPlayerButton:{backgroundColor:"transparent",borderRadius:16,borderWidth:2,borderColor:"#fff",alignItems:"center",justifyContent:"center",marginTop:8,marginBottom:16},addPlayerButtonText:{color:"#fff",fontWeight:"bold",fontSize:18,textAlign:"center"},playerInput:{backgroundColor:"#181818",color:"#FFFFFF",borderRadius:20,padding:16,fontSize:18,flex:1,borderWidth:2,borderColor:"#444",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:2},minusCircle:{backgroundColor:"#232323",borderRadius:50,padding:8,marginLeft:12,alignItems:"center",justifyContent:"center"}});function He(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function Ve(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?He(Object(o),!0).forEach(function(t){(0,h.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):He(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var Le=(0,y.create)(function(e,t){return{jugadores:[{id:1,nombre:"Jugador 1",puntos:0},{id:2,nombre:"Jugador 2",puntos:0}],historial:[],limitePuntos:100,ganador:null,agregarJugador:function(){var o=t().jugadores;if(o.length<6){var r=Math.max.apply(Math,(0,p.default)(o.map(function(e){return e.id})))+1,n={id:r,nombre:`Jugador ${r}`,puntos:0};e(function(e){return{jugadores:[].concat((0,p.default)(e.jugadores),[n])}}),t().guardarEnStorage()}},eliminarJugador:function(o){t().jugadores.length>2&&(e(function(e){return{jugadores:e.jugadores.filter(function(e){return e.id!==o})}}),t().guardarEnStorage())},cambiarNombreJugador:function(o,r){e(function(e){return{jugadores:e.jugadores.map(function(e){return e.id===o?Ve(Ve({},e),{},{nombre:r}):e})}}),t().guardarEnStorage()},agregarPuntos:function(o,r){var n=t().ganador;n&&n.length>0||(e(function(e){var t=e.jugadores.map(function(e){return e.id===o?Ve(Ve({},e),{},{puntos:e.puntos+r}):e}),n=[].concat((0,p.default)(e.historial),[{tipo:"agregarPuntos",jugadorId:o,puntos:r}]),a=t.some(function(t){return t.puntos>e.limitePuntos}),i=e.ganador;if(a&&!e.ganador){var l=Math.min.apply(Math,(0,p.default)(t.map(function(e){return e.puntos})));i=t.filter(function(e){return e.puntos===l}).map(function(e){return Ve(Ve({},e),{},{chinchon:!1})})}return{jugadores:t,historial:n,ganador:i}}),t().guardarEnStorage())},corte:function(o){t().ganador||(e(function(e){return{jugadores:e.jugadores.map(function(e){return e.id===o?Ve(Ve({},e),{},{puntos:Math.max(0,e.puntos-10)}):e}),historial:[].concat((0,p.default)(e.historial),[{tipo:"corte",jugadorId:o}])}}),t().guardarEnStorage())},chinchon:function(o){var r=t(),n=r.jugadores,a=r.ganador;if(!(a&&a.length>0)){var i=n.find(function(e){return e.id===o});i&&(e({ganador:[Ve(Ve({},i),{},{chinchon:!0})]}),t().guardarEnStorage())}},deshacerUltima:function(){var o=t(),r=o.historial;o.jugadores;if(0!==r.length){var n=r[r.length-1],a=r.slice(0,-1);if("chinchon"===n.tipo)return e({historial:a,ganador:null}),void t().guardarEnStorage();e(function(e){var t=(0,p.default)(e.jugadores),o=t.findIndex(function(e){return e.id===n.jugadorId});return-1!==o&&("agregarPuntos"===n.tipo?t[o]=Ve(Ve({},t[o]),{},{puntos:t[o].puntos-n.puntos}):"corte"===n.tipo&&(t[o]=Ve(Ve({},t[o]),{},{puntos:t[o].puntos+10}))),{jugadores:t,historial:a,ganador:null}}),t().guardarEnStorage()}},reiniciarPartida:function(){console.log("reiniciarPartida called in store"),e(function(e){return{jugadores:e.jugadores.map(function(e){return Ve(Ve({},e),{},{puntos:0})}),historial:[],ganador:null}}),t().guardarEnStorage(),console.log("reiniciarPartida completed")},cambiarLimite:function(o){e({limitePuntos:o}),t().guardarEnStorage()},verificarGanador:function(){},getJugadoresOrdenados:function(){var e=t().jugadores;return(0,p.default)(e).sort(function(e,t){return e.puntos-t.puntos})},guardarEnStorage:function(){var e=(0,m.default)(function*(){var e=t();try{yield x.default.setItem("chinchonState",JSON.stringify({jugadores:e.jugadores,historial:e.historial,limitePuntos:e.limitePuntos,ganador:e.ganador}))}catch(o){console.error("Error guardando estado de Chinch\xf3n:",o)}});return function(){return e.apply(this,arguments)}}(),cargarDesdeStorage:function(){var t=(0,m.default)(function*(){try{var t=yield x.default.getItem("chinchonState");if(t){var o=JSON.parse(t);o.ganador&&!Array.isArray(o.ganador)&&(o.ganador=[o.ganador]),e(o)}}catch(r){console.error("Error cargando estado de Chinch\xf3n:",r)}});return function(){return t.apply(this,arguments)}}()}}),Je=o(2173);function Ae(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function Ne(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(o),!0).forEach(function(t){(0,h.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ae(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}(0,a.default)();function Me(e){var t=e.navigation,o=Le(),n=o.jugadores,a=o.ganador,i=o.limitePuntos,l=o.agregarPuntos,g=o.corte,b=o.chinchon,m=(o.deshacerUltima,o.reiniciarPartida),h=o.agregarJugador,y=o.eliminarJugador,x=(o.cambiarNombreJugador,o.cargarDesdeStorage),j=o.cambiarLimite,v=(0,r.useState)(!1),C=(0,s.default)(v,2),w=C[0],T=C[1],S=(0,r.useState)([]),P=(0,s.default)(S,2),F=P[0],B=P[1],R=(0,r.useState)(!1),W=(0,s.default)(R,2),k=W[0],E=W[1],I=(0,r.useState)(null),V=(0,s.default)(I,2),L=V[0],J=V[1],A=(0,r.useState)(!1),N=(0,s.default)(A,2),M=N[0],G=N[1],q=(0,r.useState)(!1),$=(0,s.default)(q,2),U=$[0],Y=$[1],_=(0,r.useRef)(new te.default.Value(0)).current,K=(0,r.useRef)(new te.default.Value(0)).current,Q=(0,r.useRef)(new te.default.Value(0)).current;(0,r.useEffect)(function(){x()},[]),(0,r.useEffect)(function(){B(n.map(function(e){return e.nombre}))},[n]);var X=(0,r.useMemo)(function(){if(n.length<2)return{leader:null,last:null};var e=(0,p.default)(n).sort(function(e,t){return e.puntos-t.puntos});return{leader:e[0],last:e[e.length-1]}},[n]),oe=X.leader,re=X.last,ne=n.find(function(e){return e.puntos>=i});(0,r.useEffect)(function(){ne&&(E(!1),ae(),ee.default.alert("\xa1Fin del Juego!",`\xa1${ne.nombre} ha perdido la partida!`,[{text:"Nueva Partida",onPress:function(){return G(!0)},style:"destructive"},{text:"OK",style:"cancel"}]))},[ne]);var ae=function(){Y(!0),te.default.timing(Q,{toValue:1,duration:300,useNativeDriver:!0}).start()},se=function(){te.default.timing(Q,{toValue:0,duration:300,useNativeDriver:!0}).start(function(){Y(!1)})},de=function(){te.default.parallel([te.default.timing(_,{toValue:0,duration:300,useNativeDriver:!0}),te.default.timing(K,{toValue:0,duration:300,useNativeDriver:!0})]).start(function(){T(!1)})},ue=function(){F.every(function(e){return e.trim()})?(B(F),de()):ee.default.alert("Error","Todos los nombres de jugadores deben estar completos")},ce=L?n.find(function(e){return e.id===L}):null,ge=ce?[{label:"+1",onPress:function(){return l(ce.id,1)}},{label:"+5",onPress:function(){return l(ce.id,5)}},{label:"+10",onPress:function(){return l(ce.id,10)}},{label:"+20",onPress:function(){return l(ce.id,20)}},{label:"-10 (Corte)",onPress:function(){return g(ce.id)},variant:"secondary"},{label:"\xa1Chinch\xf3n!",onPress:function(){return b(ce.id)},variant:"primary",icon:(0,H.jsx)(Je.default,{size:18,color:"white"})}].map(function(e){return Ne(Ne({},e),{},{disabled:!(null==a||!a.length)})}):[];return(0,H.jsxs)(d.default,{style:Ge.container,children:[(0,H.jsx)(f.default,{barStyle:"light-content"}),U&&!k&&(0,H.jsx)(te.default.View,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,opacity:Q},pointerEvents:"box-none",children:(0,H.jsx)(ve.default,{count:200,origin:{x:0,y:0},explosionSpeed:500,fallSpeed:4e3,fadeOut:!0,colors:["#ff3d5a","#ffe600","#7bb420","#00cfff","#bb86fc","#fff"],onAnimationEnd:se})}),(0,H.jsx)(function(){return(0,H.jsx)(O.default,{visible:w,transparent:!0,onRequestClose:de,children:(0,H.jsx)(te.default.View,{style:[Ge.modalOverlay,{opacity:K}],children:(0,H.jsxs)(te.default.View,{style:[Ge.modalContent,{transform:[{translateY:_.interpolate({inputRange:[0,1],outputRange:[300,0]})}]}],children:[(0,H.jsxs)(d.default,{style:Ge.modalHeader,children:[(0,H.jsx)(u.default,{style:Ge.modalTitle,children:"Ajustes"}),(0,H.jsx)(c.default,{onPress:de,style:Ge.closeButton,children:(0,H.jsx)(D.default,{size:24,color:"white"})})]}),(0,H.jsxs)(z.default,{style:Ge.modalList,children:[(0,H.jsx)(u.default,{style:Ge.sectionTitle,children:"Jugadores"}),n.map(function(e,t){return(0,H.jsxs)(d.default,{style:Ge.playerInputRow,children:[(0,H.jsx)(Z.default,{style:Ge.playerInput,value:F[t]||"",onChangeText:function(e){var o=(0,p.default)(F);o[t]=e,B(o)},placeholderTextColor:"#999"}),(0,H.jsx)(c.default,{onPress:function(){return y(e.id)},disabled:n.length<=2,style:[Ge.minusCircle,{marginLeft:12}],children:(0,H.jsx)(he.default,{size:28,color:"#ef4444"})})]},e.id)}),(0,H.jsx)(le,{label:"Agregar Jugador",onPress:h,icon:(0,H.jsx)(pe.default,{size:20,color:"white"}),variant:"secondary",disabled:n.length>=6,style:Ge.addPlayerButton}),(0,H.jsx)(u.default,{style:Ge.sectionTitle,children:"L\xedmite de Puntos"}),(0,H.jsx)(d.default,{style:Ge.limiteContainer,children:[100,150,200].map(function(e){return(0,H.jsx)(c.default,{style:[Ge.limiteButton,i===e&&Ge.limiteButtonActive],onPress:function(){return j(e)},children:(0,H.jsx)(u.default,{style:[Ge.limiteButtonText,i===e&&Ge.limiteButtonTextActive],children:e})},e)})}),(0,H.jsx)(le,{label:"Guardar Cambios",onPress:ue,style:Ge.saveButton})]})]})})})},{}),(0,H.jsxs)(z.default,{contentContainerStyle:Ge.scrollContent,children:[(0,H.jsxs)(d.default,{style:Ge.header,children:[(0,H.jsxs)(d.default,{children:[(0,H.jsx)(u.default,{style:Ge.title,children:"Chinch\xf3n"}),(0,H.jsxs)(u.default,{style:Ge.subtitle,children:["L\xedmite: ",i]})]}),(0,H.jsx)(c.default,{onPress:function(){T(!0),te.default.parallel([te.default.timing(_,{toValue:1,duration:300,useNativeDriver:!0}),te.default.timing(K,{toValue:1,duration:300,useNativeDriver:!0})]).start()},style:Ge.settingsButton,children:(0,H.jsx)(ye.default,{size:24,color:"white"})})]}),(0,H.jsx)(d.default,{children:n.map(function(e){return(0,H.jsx)(ie,{name:e.nombre,score:e.puntos,isWinner:null==a?void 0:a.some(function(t){return t.id===e.id}),isLeading:(null==oe?void 0:oe.id)===e.id,isLast:(null==re?void 0:re.id)===e.id&&n.length>1,maxScore:i,onPress:function(){return t=e,void(a&&a.length>0||(J(t.id),E(!0)));var t},gameType:"chinchon"},e.id)})})]}),!w&&(0,H.jsx)(d.default,{style:Ge.bottomBar,children:(0,H.jsxs)(d.default,{style:Ge.buttonRow,children:[(0,H.jsx)(le,{label:"Volver",onPress:function(){return t.navigate("Home")},variant:"black",icon:(0,H.jsx)(xe.default,{size:20,color:"white"}),style:[Ge.bottomButton,{backgroundColor:"#232323"}]}),(0,H.jsx)(le,{label:"Reiniciar",onPress:function(){G(!0),se()},variant:"danger",icon:(0,H.jsx)(je.default,{size:20,color:"white"}),style:Ge.bottomButton})]})}),(0,H.jsx)(fe,{isVisible:k,onClose:function(){return E(!1)},player:ce,buttons:ge}),(0,H.jsx)(be,{isVisible:M,onClose:function(){return G(!1)},onConfirm:m,title:"Reiniciar Partida",message:"\xbfEst\xe1s seguro de que quieres empezar de cero? Se perder\xe1 todo el progreso."})]})}var Ge=g.default.create({container:{flex:1,backgroundColor:"#181818"},scrollContent:{paddingBottom:120,padding:24,paddingTop:48},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{color:"#FFFFFF",fontSize:36,fontWeight:"900",letterSpacing:-1},subtitle:{color:"#FFFFFF",fontSize:20,fontWeight:"700"},settingsButton:{backgroundColor:"#232323",padding:18,borderRadius:50,alignItems:"center",justifyContent:"center"},editPanel:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#171717",zIndex:10,padding:24,paddingTop:48},editHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:32},editTitle:{color:"#ffffff",fontSize:30,fontWeight:"bold"},closeButton:{padding:8},sectionTitle:{color:"#FFFFFF",fontSize:20,fontWeight:"900",marginBottom:16},playerInputRow:{flexDirection:"row",alignItems:"center",marginBottom:12},playerInput:{backgroundColor:"#181818",color:"#FFFFFF",borderRadius:20,padding:16,fontSize:18,flex:1,borderWidth:2,borderColor:"#444",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:2},addPlayerButton:{backgroundColor:"transparent",borderRadius:16,borderWidth:2,borderColor:"#fff",alignItems:"center",justifyContent:"center",marginTop:8,marginBottom:8},addPlayerButtonText:{color:"#fff",fontWeight:"bold",fontSize:18,textAlign:"center"},limiteContainer:{flexDirection:"row",justifyContent:"space-around",marginBottom:32},limiteButton:{paddingHorizontal:24,paddingVertical:12,borderRadius:12,borderWidth:2,borderColor:"#404040"},limiteButtonActive:{backgroundColor:"#84cc16",borderColor:"#84cc16"},limiteButtonText:{fontWeight:"bold",fontSize:18,color:"#d4d4d4"},limiteButtonTextActive:{color:"#ffffff"},bottomBar:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"#181818",padding:16,borderTopWidth:0,shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:4},buttonRow:{flexDirection:"row",justifyContent:"space-around"},bottomButton:{flex:1,marginHorizontal:4},modalOverlay:{flex:1,backgroundColor:"rgba(48, 47, 44, 0.9)",justifyContent:"flex-end"},modalContent:{backgroundColor:"#181818",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"70%",marginTop:"auto",marginBottom:50,borderWidth:2,borderColor:"#444",shadowColor:"transparent",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:8},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:24,borderBottomWidth:1,borderBottomColor:"#444"},modalTitle:{color:"#FFFFFF",fontSize:24,fontWeight:"900"},modalList:{padding:24},progressBar:{backgroundColor:"#bbff01",height:18,borderRadius:12},saveButton:{backgroundColor:"#7bb420",borderRadius:20,paddingVertical:16,paddingHorizontal:32,alignItems:"center",justifyContent:"center",marginTop:8,marginBottom:18,borderWidth:0},saveButtonText:{color:"#FFFFFF",fontWeight:"bold",fontSize:20,textAlign:"center"},minusCircle:{backgroundColor:"#232323",borderRadius:50,padding:8,marginLeft:12,alignItems:"center",justifyContent:"center"}}),qe=(0,a.default)(),$e={dark:!0,colors:{primary:"#00FF01",background:"#302f2c",card:"#302f2c",text:"#FFFFFF",border:"#00FF00",notification:"#FF0000"}};function Ue(){return(0,H.jsx)(l.SafeAreaProvider,{children:(0,H.jsx)(n.default,{theme:$e,children:(0,H.jsxs)(qe.Navigator,{initialRouteName:"Home",screenOptions:{headerStyle:{backgroundColor:"#181818",elevation:0,shadowOpacity:0,borderBottomWidth:0},headerTintColor:"#bbff01",headerTitleStyle:{color:"#ECF0F1",fontWeight:"900",textShadowColor:"#000000",textShadowOffset:{width:2,height:2},textShadowRadius:0},cardStyle:{backgroundColor:"#2C3E50"},cardStyleInterpolator:i.forHorizontalIOS},children:[(0,H.jsx)(qe.Screen,{name:"Home",component:Q,options:{headerShown:!1}}),(0,H.jsx)(qe.Screen,{name:"Truco",component:Ie,options:{title:"",headerShown:!1}}),(0,H.jsx)(qe.Screen,{name:"Chinchon",component:Me,options:{title:"",headerShown:!1}}),(0,H.jsx)(qe.Screen,{name:"Escoba",component:Te,options:{title:"",headerShown:!1}})]})})})}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}o.m=e,(()=>{var e=[];o.O=(t,r,n,a)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,n,a]=e[u],l=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(o.O).every(e=>o.O[e](r[s]))?r.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var d=n();void 0!==d&&(t=d)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[i,l,s]=r,d=0;if(i.some(t=>0!==e[t])){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(s)var u=s(o)}for(t&&t(r);d<i.length;d++)a=i[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=o.O(void 0,[214],()=>o(5036));r=o.O(r)})();
//# sourceMappingURL=main.c9b9e053.js.map
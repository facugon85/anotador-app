(()=>{"use strict";var e={4828:(e,t,o)=>{o.r(t),o.d(t,{default:()=>We});var r=o(4467),n=o(6665),a=o(9831),i=o(6520),l=o(8456),s=o(1757),d=o(8833),u=o(296),c=o(3929),f=o(6283),g=o(5648),p=o(1815),b=o(3668),m=o(9632),h=o(467),y=o(5458),x=o(4360),j=o(1087);function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function S(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var C=(0,x.create)(function(e,t){return{escobaScores:[{name:"Nosotros",score:0},{name:"Ellos",score:0}],escobaPlayers:["Nosotros","Ellos"],escobaHistory:[],trucoScores:[{name:"Nosotros",score:0},{name:"Ellos",score:0}],trucoTeams:["Nosotros","Ellos"],trucoHistory:[],setEscobaPlayers:function(o){var r=o.map(function(e,o){var r;return{name:e,score:(null==(r=t().escobaScores[o])?void 0:r.score)||0}});e({escobaPlayers:o,escobaScores:r}),t().saveToStorage()},addEscobaScore:function(o,r){e(function(e){return{escobaScores:e.escobaScores.map(function(e,t){return t===o?S(S({},e),{},{score:e.score+r}):e}),escobaHistory:[].concat((0,y.default)(e.escobaHistory),[{playerIndex:o,points:r,timestamp:Date.now()}])}}),t().saveToStorage()},undoLastEscobaScore:function(){e(function(e){var t=(0,y.default)(e.escobaHistory),o=t.pop();return o?{escobaScores:e.escobaScores.map(function(e,t){return t===o.playerIndex?S(S({},e),{},{score:Math.max(0,e.score-o.points)}):e}),escobaHistory:t}:e}),t().saveToStorage()},resetEscobaGame:function(){console.log("resetEscobaGame called in store"),e(function(e){return{escobaScores:e.escobaScores.map(function(e){return S(S({},e),{},{score:0})}),escobaHistory:[]}}),t().saveToStorage(),console.log("resetEscobaGame completed")},setTrucoTeams:function(o){var r=o.map(function(e,o){var r;return{name:e,score:(null==(r=t().trucoScores[o])?void 0:r.score)||0}});e({trucoTeams:o,trucoScores:r}),t().saveToStorage()},addFaltaEnvido:function(o){e(function(e){var t,r=e.trucoScores[o].score,n=0===o?1:0;e.trucoScores[n].score;return t=r<15?15-r:30-r,{trucoScores:e.trucoScores.map(function(e,r){return r===o?S(S({},e),{},{score:e.score+t}):e}),trucoHistory:[].concat((0,y.default)(e.trucoHistory),[{teamIndex:o,points:t,type:"falta-envido",timestamp:Date.now()}])}}),t().saveToStorage()},addTrucoScore:function(o,r){e(function(e){return{trucoScores:e.trucoScores.map(function(e,t){return t===o?S(S({},e),{},{score:e.score+r}):e}),trucoHistory:[].concat((0,y.default)(e.trucoHistory),[{teamIndex:o,points:r,timestamp:Date.now()}])}}),t().saveToStorage()},undoLastTrucoScore:function(){e(function(e){var t=(0,y.default)(e.trucoHistory),o=t.pop();return o?{trucoScores:e.trucoScores.map(function(e,t){return t===o.teamIndex?S(S({},e),{},{score:Math.max(0,e.score-o.points)}):e}),trucoHistory:t}:e}),t().saveToStorage()},resetTrucoGame:function(){console.log("resetTrucoGame called in store"),e(function(e){return{trucoScores:e.trucoScores.map(function(e){return S(S({},e),{},{score:0})}),trucoHistory:[]}}),t().saveToStorage(),console.log("resetTrucoGame completed")},saveToStorage:function(){var e=(0,h.default)(function*(){var e=t();try{yield j.default.setItem("gameState",JSON.stringify({escobaScores:e.escobaScores,escobaPlayers:e.escobaPlayers,escobaHistory:e.escobaHistory,trucoScores:e.trucoScores,trucoTeams:e.trucoTeams,trucoHistory:e.trucoHistory}))}catch(o){console.error("Error saving to storage:",o)}});return function(){return e.apply(this,arguments)}}(),loadFromStorage:function(){var t=(0,h.default)(function*(){try{var t=yield j.default.getItem("gameState");if(t){var o=JSON.parse(t);e(o)}}catch(r){console.error("Error loading from storage:",r)}});return function(){return t.apply(this,arguments)}}()}}),w=o(480),P=o(3048),O=o(5848),T=o(2004),z=o(3554),B=o(8264),D=o(2772),E=o(5600),R=o(4494),k=o(5082),I=o(9493),H=o(4788),W=o(2964),V=o(397),L=function(e){var t=e.title,o=e.description,r=e.status,n=e.icon;return(0,V.jsxs)(c.default,{style:N.roadmapItem,children:[(0,V.jsxs)(c.default,{style:N.roadmapItemHeader,children:[n,(0,V.jsx)(f.default,{style:N.roadmapItemTitle,children:t}),(0,V.jsx)(c.default,{style:[N.statusBadge,"completed"===r?N.completedBadge:N.pendingBadge],children:(0,V.jsx)(f.default,{style:N.statusText,children:"completed"===r?"Completado":"En desarrollo"})})]}),(0,V.jsx)(f.default,{style:N.roadmapItemDescription,children:o})]})},N=b.default.create({modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},modalContent:{backgroundColor:"#171717",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"80%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:24,borderBottomWidth:1,borderBottomColor:"#262626"},modalTitle:{color:"#ffffff",fontSize:24,fontWeight:"bold"},closeButton:{padding:4},roadmapList:{padding:24},roadmapSubtitle:{color:"#a3a3a3",fontSize:16,marginBottom:24,lineHeight:22},roadmapItem:{backgroundColor:"#262626",borderRadius:12,padding:16,marginBottom:12},roadmapItemHeader:{flexDirection:"row",alignItems:"center",marginBottom:8},roadmapItemTitle:{color:"#ffffff",fontSize:16,fontWeight:"bold",marginLeft:8,flex:1},statusBadge:{paddingHorizontal:8,paddingVertical:4,borderRadius:8},completedBadge:{backgroundColor:"#84cc16"},pendingBadge:{backgroundColor:"#fbbf24"},statusText:{color:"#000000",fontSize:12,fontWeight:"bold"},roadmapItemDescription:{color:"#a3a3a3",fontSize:14,lineHeight:20},footerNote:{marginTop:16,padding:20,backgroundColor:"#262626",borderRadius:12,alignItems:"center"},footerNoteText:{color:"#a3a3a3",fontSize:14,textAlign:"center",lineHeight:20,marginBottom:12},supportLink:{color:"#84cc16",fontSize:14,fontWeight:"bold",textAlign:"center",textDecorationLine:"underline"}});const A=function(e){var t=e.isVisible,o=e.onClose,r=[{title:"Truco",description:"Juego de cartas tradicional argentino para 2 o 4 jugadores",status:"completed",icon:(0,V.jsx)(E.default,{size:20,color:"#84cc16"})},{title:"Chinch\xf3n",description:"Juego de cartas para 2 a 6 jugadores",status:"completed",icon:(0,V.jsx)(E.default,{size:20,color:"#84cc16"})},{title:"Escoba de 15",description:"Juego de cartas para 2 o 4 jugadores",status:"completed",icon:(0,V.jsx)(E.default,{size:20,color:"#84cc16"})},{title:"P\xf3ker",description:"Variantes de p\xf3ker para m\xfaltiples jugadores",status:"pending",icon:(0,V.jsx)(R.default,{size:20,color:"#fbbf24"})},{title:"Burako",description:"Juego de cartas ruso popular en Argentina",status:"pending",icon:(0,V.jsx)(R.default,{size:20,color:"#fbbf24"})},{title:"Estad\xedsticas avanzadas",description:"Historial de partidas, gr\xe1ficos y an\xe1lisis de rendimiento",status:"pending",icon:(0,V.jsx)(k.default,{size:20,color:"#fbbf24"})},{title:"Modo offline mejorado",description:"Sincronizaci\xf3n autom\xe1tica cuando hay conexi\xf3n",status:"pending",icon:(0,V.jsx)(k.default,{size:20,color:"#fbbf24"})},{title:"Temas personalizables",description:"Diferentes colores y estilos para la interfaz",status:"pending",icon:(0,V.jsx)(k.default,{size:20,color:"#fbbf24"})},{title:"Versi\xf3n Web (PWA)",description:"Instala la app en cualquier dispositivo desde el navegador",status:"pending",icon:(0,V.jsx)(k.default,{size:20,color:"#fbbf24"})},{title:"App para iOS y Android",description:"Mejoras continuas y optimizaci\xf3n para ambas plataformas",status:"pending",icon:(0,V.jsx)(I.default,{size:20,color:"#fbbf24"})},{title:"Cuentas de Usuario",description:"Guarda tu progreso y estad\xedsticas en la nube para acceder desde cualquier dispositivo.",status:"pending",icon:(0,V.jsx)(H.default,{size:20,color:"#fbbf24"})}];return(0,V.jsx)(B.default,{visible:t,animationType:"slide",transparent:!0,onRequestClose:o,children:(0,V.jsx)(c.default,{style:N.modalOverlay,children:(0,V.jsxs)(c.default,{style:N.modalContent,children:[(0,V.jsxs)(c.default,{style:N.modalHeader,children:[(0,V.jsx)(f.default,{style:N.modalTitle,children:"Roadmap"}),(0,V.jsx)(g.default,{onPress:o,style:N.closeButton,children:(0,V.jsx)(W.default,{size:24,color:"#84cc16"})})]}),(0,V.jsxs)(D.default,{style:N.roadmapList,showsVerticalScrollIndicator:!1,children:[(0,V.jsx)(f.default,{style:N.roadmapSubtitle,children:"Nuevos juegos y mejoras que estamos desarrollando"}),r.map(function(e,t){return(0,V.jsx)(L,{title:e.title,description:e.description,status:e.status,icon:e.icon},t)}),(0,V.jsxs)(c.default,{style:N.footerNote,children:[(0,V.jsx)(P.default,{size:24,color:"#ef4444",style:{marginBottom:12}}),(0,V.jsx)(f.default,{style:N.footerNoteText,children:"Esta app es un proyecto personal hecho con mucho cari\xf1o. Si te gusta, consider\xe1 apoyar el desarrollo para seguir agregando nuevas funciones y juegos."}),(0,V.jsx)(g.default,{onPress:function(){return m.default.openURL("https://www.buymeacoffee.com/cufanic")},children:(0,V.jsx)(f.default,{style:N.supportLink,children:"\xa1Cada colaboraci\xf3n ayuda a mantener el proyecto vivo!"})})]})]})]})})})};var F=function(e){var t=e.icon,o=e.title,r=e.subtitle,n=e.onPress;e.color;return(0,V.jsxs)(g.default,{onPress:n,style:M.gameCard,activeOpacity:.8,children:[(0,V.jsxs)(c.default,{style:M.cardContent,children:[t,(0,V.jsxs)(c.default,{style:M.cardText,children:[(0,V.jsx)(f.default,{style:M.cardTitle,children:o}),(0,V.jsx)(f.default,{style:M.cardSubtitle,children:r})]})]}),(0,V.jsx)(w.default,{size:24,color:"#84cc16"})]})};function J(e){var t=e.navigation,o=C().loadFromStorage,r=(0,n.useState)(!1),a=(0,u.default)(r,2),i=a[0],l=a[1];(0,n.useEffect)(function(){o()},[]);var s=function(e){t.navigate(e)};return(0,V.jsxs)(c.default,{style:M.container,children:[(0,V.jsx)(p.default,{barStyle:"light-content"}),(0,V.jsxs)(c.default,{style:M.content,children:[(0,V.jsxs)(c.default,{style:M.header,children:[(0,V.jsx)(f.default,{style:M.title,children:"Anotador"}),(0,V.jsx)(f.default,{style:M.subtitle,children:"Selecciona un juego"})]}),(0,V.jsxs)(c.default,{style:M.gamesContainer,children:[(0,V.jsx)(F,{title:"Truco",subtitle:"Para 2 o 4 jugadores",icon:(0,V.jsx)(P.default,{size:32,color:"#84cc16"}),onPress:function(){return s("Truco")}}),(0,V.jsx)(F,{title:"Chinch\xf3n",subtitle:"De 2 a 6 jugadores",icon:(0,V.jsx)(O.default,{size:32,color:"#84cc16"}),onPress:function(){return s("Chinchon")}}),(0,V.jsx)(F,{title:"Escoba de 15",subtitle:"Para 2 o 4 jugadores",icon:(0,V.jsx)(T.default,{size:32,color:"#84cc16"}),onPress:function(){return s("Escoba")}})]})]}),(0,V.jsxs)(c.default,{style:M.footer,children:[(0,V.jsxs)(g.default,{style:M.roadmapContainer,onPress:function(){return l(!0)},children:[(0,V.jsx)(z.default,{size:24,color:"#84cc16"}),(0,V.jsxs)(c.default,{style:M.roadmapTextContainer,children:[(0,V.jsx)(f.default,{style:M.roadmapTitle,children:"Roadmap"}),(0,V.jsx)(f.default,{style:M.roadmapSubtitle,children:"Nuevos juegos y mejoras en camino. \xa1Mir\xe1 nuestro plan!"})]})]}),(0,V.jsx)(g.default,{style:M.buyMeABeerButton,onPress:function(){return m.default.openURL("https://www.buymeacoffee.com/cufanic")},children:(0,V.jsx)(f.default,{style:M.buyMeABeerText,children:"Buy me a beer \ud83c\udf7a"})}),(0,V.jsxs)(f.default,{style:M.footerSignature,children:["Hecho con \u2764\ufe0f por"," ",(0,V.jsx)(f.default,{style:M.cufaLink,onPress:function(){return m.default.openURL("https://facugon85.github.io/dev_cv/#")},children:"Cufa"})]}),(0,V.jsx)(f.default,{style:M.versionText,children:"v1.2.0"})]}),(0,V.jsx)(A,{isVisible:i,onClose:function(){return l(!1)}})]})}var M=b.default.create({container:{flex:1,backgroundColor:"#171717"},content:{flex:1,justifyContent:"center",padding:24},header:{alignItems:"center",marginBottom:32},title:{color:"#ffffff",fontSize:48,fontWeight:"bold",letterSpacing:-1},subtitle:{color:"#a3a3a3",fontSize:20,marginTop:8},gamesContainer:{gap:20},gameCard:{backgroundColor:"#262626",borderWidth:2,borderColor:"#84cc16",borderRadius:16,padding:24,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},cardContent:{flexDirection:"row",alignItems:"center"},cardText:{marginLeft:20},cardTitle:{color:"#ffffff",fontSize:20,fontWeight:"bold"},cardSubtitle:{color:"#a3a3a3",fontSize:16},footer:{alignItems:"center",paddingBottom:40,paddingHorizontal:24},roadmapContainer:{flexDirection:"row",backgroundColor:"#262626",borderRadius:16,padding:20,alignItems:"center",width:"100%",marginBottom:20,borderWidth:2,borderColor:"#84cc16"},roadmapTextContainer:{marginLeft:15,flex:1},roadmapTitle:{color:"#ffffff",fontSize:18,fontWeight:"bold",marginBottom:4},roadmapSubtitle:{color:"#a3a3a3",fontSize:14,lineHeight:20},buyMeABeerButton:{backgroundColor:"#FFDD00",paddingVertical:15,paddingHorizontal:30,borderRadius:16,flexDirection:"row",alignItems:"center",justifyContent:"center",shadowColor:"#FFDD00",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:8,elevation:5},buyMeABeerText:{color:"#000000",fontSize:18,fontWeight:"bold",fontFamily:"Poppins, sans-serif"},footerSignature:{color:"#a3a3a3",fontSize:14,marginTop:24,marginBottom:8,textAlign:"center"},cufaLink:{color:"#84cc16",fontWeight:"bold"},versionText:{color:"#52525b",fontSize:13,textAlign:"center",marginBottom:8}}),q=o(6773),G=o(1690),U=o(3982),$=o(5055),_=o(6709),K=o(5044),Y=b.default.create({card:{backgroundColor:"#262626",borderRadius:16,padding:20,borderWidth:2,marginBottom:16,borderColor:"#84cc16"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},nameContainer:{flexDirection:"row",alignItems:"center"},name:{color:"#ffffff",fontSize:24,fontWeight:"bold"},icon:{marginLeft:8},score:{color:"#ffffff",fontSize:36,fontWeight:"bold"},winnerScore:{color:"#84cc16"},overLimitScore:{color:"#ef4444"},progressContainer:{width:"100%",backgroundColor:"#52525b",borderRadius:50,height:8},progressBar:{height:8,borderRadius:50,backgroundColor:"#84cc16"},overLimitProgress:{backgroundColor:"#ef4444"},crownContainer:{position:"absolute",top:-14,right:-14,backgroundColor:"#84cc16",borderRadius:50,padding:8,borderWidth:4,borderColor:"#262626"}});const Q=function(e){var t=e.name,o=e.score,r=e.isWinner,n=e.isLeading,a=(e.isLast,e.maxScore),i=e.onPress,l=e.gameType,s=void 0===l?"truco":l,d=a>0?Math.min(o/a*100,100):0,u=a>0&&o>a;return(0,V.jsxs)(g.default,{onPress:i,disabled:!i,style:Y.card,activeOpacity:.9,children:[(0,V.jsxs)(c.default,{style:Y.header,children:[(0,V.jsxs)(c.default,{style:Y.nameContainer,children:[(0,V.jsx)(f.default,{style:Y.name,children:t}),"truco"===s&&(0,V.jsx)($.default,{size:22,color:n?"#84cc16":"#52525b",style:Y.icon}),u&&(0,V.jsx)(_.default,{size:20,color:"#737373",style:Y.icon})]}),(0,V.jsx)(f.default,{style:[Y.score,r&&Y.winnerScore,u&&Y.overLimitScore],children:o})]}),a>0&&(0,V.jsx)(c.default,{style:Y.progressContainer,children:(0,V.jsx)(c.default,{style:[Y.progressBar,{width:`${d}%`,backgroundColor:"chinchon"===s?o>=.75*a?"#f97316":o>=.5*a?"#facc15":"#84cc16":Y.progressBar.backgroundColor},u&&Y.overLimitProgress]})}),r&&(0,V.jsx)(c.default,{style:Y.crownContainer,children:(0,V.jsx)(K.default,{size:20,color:"#171717"})})]})};function X(e){var t=e.label,o=e.onPress,r=e.icon,n=e.variant,a=void 0===n?"primary":n,i=e.style,l=void 0===i?{}:i,s=e.disabled,d=void 0!==s&&s;return(0,V.jsxs)(g.default,{style:[function(){var e=[Z.button,Z[a]];return d&&e.push(Z.disabled),e}(),l],onPress:o,disabled:d,activeOpacity:.8,children:[r&&(0,V.jsx)(c.default,{style:Z.iconContainer,children:r}),(0,V.jsx)(f.default,{style:[Z.text,Z[`${a}Text`]],children:t})]})}var Z=b.default.create({button:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:16,paddingHorizontal:20,paddingVertical:16},primary:{backgroundColor:"rgba(132, 204, 22, 0.8)"},secondary:{backgroundColor:"#262626",borderWidth:1,borderColor:"#404040"},danger:{backgroundColor:"rgba(239, 68, 68, 0.9)"},disabled:{opacity:.4},text:{fontSize:18,fontWeight:"bold"},primaryText:{color:"#ffffff"},secondaryText:{color:"#ffffff",fontWeight:"600"},dangerText:{color:"#ffffff"},iconContainer:{marginRight:12}}),ee=o(6725),te=b.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",alignItems:"center"},modalContainer:{width:.9*ee.default.get("window").width,maxHeight:.7*ee.default.get("window").height,backgroundColor:"#1E2A3A",borderRadius:20,padding:25,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:20},modalTitle:{fontSize:24,fontWeight:"bold",color:"#FFFFFF"},modalScore:{fontSize:28,fontWeight:"bold"},buttonsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},buttonWrapper:{margin:8},closeButton:{marginTop:20,backgroundColor:"#c0392b",borderRadius:10,paddingVertical:12,paddingHorizontal:30},closeButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"bold"}});const oe=function(e){var t=e.isVisible,o=e.onClose,r=e.player,n=e.buttons;if(!r)return null;var a=r.nombre||r.name,i=r.score||r.puntos;return(0,V.jsx)(B.default,{animationType:"slide",transparent:!0,visible:t,onRequestClose:o,children:(0,V.jsx)(g.default,{style:te.overlay,activeOpacity:1,onPressOut:o,children:(0,V.jsxs)(c.default,{style:te.modalContainer,children:[(0,V.jsxs)(c.default,{style:te.modalHeader,children:[(0,V.jsx)(f.default,{style:te.modalTitle,children:a}),(0,V.jsx)(f.default,{style:[te.modalScore,{color:r.color||"#bbff01"}],children:i})]}),(0,V.jsx)(D.default,{contentContainerStyle:te.buttonsGrid,children:n.map(function(e,t){return(0,V.jsx)(c.default,{style:te.buttonWrapper,children:(0,V.jsx)(X,{label:e.label,onPress:e.onPress,icon:e.icon,variant:e.variant,disabled:e.disabled,className:e.className})},t)})}),(0,V.jsx)(g.default,{style:te.closeButton,onPress:o,children:(0,V.jsx)(f.default,{style:te.closeButtonText,children:"Cerrar"})})]})})})};var re=b.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.75)",justifyContent:"center",alignItems:"center",padding:20},modalContainer:{width:"100%",maxWidth:400,backgroundColor:"#1E2A3A",borderRadius:20,padding:30,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5,elevation:10,borderWidth:1,borderColor:"rgba(255, 255, 255, 0.1)"},title:{fontSize:22,fontWeight:"bold",color:"#FFFFFF",marginBottom:15,textAlign:"center"},message:{fontSize:16,color:"#d4d4d4",textAlign:"center",marginBottom:30,lineHeight:24},buttonContainer:{flexDirection:"row",justifyContent:"space-between",width:"100%"},button:{flex:1,marginHorizontal:8}});const ne=function(e){var t=e.isVisible,o=e.onClose,r=e.onConfirm,n=e.title,a=e.message;return(0,V.jsx)(B.default,{animationType:"fade",transparent:!0,visible:t,onRequestClose:o,children:(0,V.jsx)(c.default,{style:re.overlay,children:(0,V.jsxs)(c.default,{style:re.modalContainer,children:[(0,V.jsx)(f.default,{style:re.title,children:n}),(0,V.jsx)(f.default,{style:re.message,children:a}),(0,V.jsxs)(c.default,{style:re.buttonContainer,children:[(0,V.jsx)(X,{label:"Cancelar",onPress:o,variant:"secondary",style:re.button}),(0,V.jsx)(X,{label:"Confirmar",onPress:function(){r(),o()},variant:"danger",style:re.button})]})]})})})};var ae=o(6629),ie=o(6131),le=o(6567),se=o(83),de=o(9470),ue=o(9812);function ce(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function fe(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ce(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function ge(){var e=C(),t=e.escobaScores,o=e.addEscobaScore,r=e.undoLastEscobaScore,a=e.resetEscobaGame,i=(e.setEscobaPlayers,e.escobaPlayers),l=(0,n.useState)(!1),s=(0,u.default)(l,2),d=s[0],b=s[1],m=(0,n.useState)((0,y.default)(i)),h=(0,u.default)(m,2),x=h[0],j=h[1],v=(0,n.useState)(!1),S=(0,u.default)(v,2),w=S[0],P=S[1],O=(0,n.useState)(null),z=(0,u.default)(O,2),E=z[0],R=z[1],I=(0,n.useState)(!1),H=(0,u.default)(I,2),L=H[0],N=H[1],A=(0,n.useState)(!1),F=(0,u.default)(A,2),J=F[0],M=F[1],$=(0,n.useRef)(new U.default.Value(0)).current,_=(0,n.useRef)(new U.default.Value(0)).current,K=(0,n.useRef)(new U.default.Value(0)).current;(0,n.useEffect)(function(){j((0,y.default)(i))},[i]);var Y=t.find(function(e){return e.score>=15}),Z=(0,n.useMemo)(function(){if(t.length<2)return{leader:null,last:null};var e=(0,y.default)(t).sort(function(e,t){return t.score-e.score});return{leader:e[0],last:e[e.length-1]}},[t]),ee=Z.leader,te=Z.last;(0,n.useEffect)(function(){Y&&(P(!1),re(),G.default.alert("\xa1Fin del Juego!",`\xa1${Y.name} ha ganado la partida!`,[{text:"Nueva Partida",onPress:function(){return N(!0)},style:"destructive"},{text:"OK",style:"cancel"}]))},[Y]);var re=function(){M(!0),U.default.timing(K,{toValue:1,duration:300,useNativeDriver:!0}).start()},ce=function(){U.default.timing(K,{toValue:0,duration:300,useNativeDriver:!0}).start(function(){M(!1)})},ge=function(){U.default.parallel([U.default.timing($,{toValue:0,duration:300,useNativeDriver:!0}),U.default.timing(_,{toValue:0,duration:300,useNativeDriver:!0})]).start(function(){b(!1)})},be=function(){x[0].trim()&&x[1].trim()?(j(x),ge()):G.default.alert("Error","Los nombres de los jugadores no pueden estar vac\xedos")},me=null!==E?fe(fe({},t[E]),{},{index:E}):null,he=me?[{label:"Escoba",onPress:function(){return o(me.index,1)},icon:(0,V.jsx)(T.default,{size:18,color:"white"})},{label:"Cartas",onPress:function(){return o(me.index,1)},icon:(0,V.jsx)(ae.default,{size:18,color:"white"})},{label:"Oros",onPress:function(){return o(me.index,1)},icon:(0,V.jsx)(k.default,{size:18,color:"white"})},{label:"Setenta",onPress:function(){return o(me.index,1)},icon:(0,V.jsx)(k.default,{size:18,color:"white"})},{label:"7 de Oro",onPress:function(){return o(me.index,1)},icon:(0,V.jsx)(ie.default,{size:18,color:"white"})}].map(function(e){return fe(fe({},e),{},{disabled:!!Y})}):[];return(0,V.jsxs)(c.default,{style:pe.container,children:[(0,V.jsx)(p.default,{barStyle:"light-content"}),J&&!w&&(0,V.jsx)(U.default.View,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,opacity:K},pointerEvents:"box-none",children:(0,V.jsx)(ue.default,{count:200,origin:{x:0,y:0},explosionSpeed:500,fallSpeed:4e3,fadeOut:!0,onAnimationEnd:ce})}),(0,V.jsx)(function(){return(0,V.jsx)(B.default,{visible:d,transparent:!0,onRequestClose:ge,children:(0,V.jsx)(U.default.View,{style:[pe.modalOverlay,{opacity:_}],children:(0,V.jsxs)(U.default.View,{style:[pe.modalContent,{transform:[{translateY:$.interpolate({inputRange:[0,1],outputRange:[300,0]})}]}],children:[(0,V.jsxs)(c.default,{style:pe.modalHeader,children:[(0,V.jsx)(f.default,{style:pe.modalTitle,children:"Editar Jugadores"}),(0,V.jsx)(g.default,{onPress:ge,style:pe.closeButton,children:(0,V.jsx)(W.default,{size:24,color:"#84cc16"})})]}),(0,V.jsxs)(D.default,{style:pe.modalList,children:[x.map(function(e,t){return(0,V.jsxs)(c.default,{style:pe.inputContainer,children:[(0,V.jsx)(f.default,{style:pe.inputLabel,children:0===t?"Nosotros":"Ellos"}),(0,V.jsx)(q.default,{style:pe.textInput,value:e,onChangeText:function(e){var o=(0,y.default)(x);o[t]=e,j(o)},placeholderTextColor:"#999"})]},t)}),(0,V.jsx)(X,{label:"Guardar Cambios",onPress:be,style:pe.saveButton})]})]})})})},{}),(0,V.jsxs)(D.default,{contentContainerStyle:pe.scrollContent,children:[(0,V.jsxs)(c.default,{style:pe.header,children:[(0,V.jsxs)(c.default,{children:[(0,V.jsx)(f.default,{style:pe.title,children:"Escoba de 15"}),(0,V.jsxs)(f.default,{style:pe.subtitle,children:["A ",15," puntos"]})]}),(0,V.jsx)(g.default,{onPress:function(){b(!0),U.default.parallel([U.default.timing($,{toValue:1,duration:300,useNativeDriver:!0}),U.default.timing(_,{toValue:1,duration:300,useNativeDriver:!0})]).start()},style:pe.settingsButton,children:(0,V.jsx)(le.default,{size:24,color:"white"})})]}),(0,V.jsx)(c.default,{children:t.map(function(e,o){return(0,V.jsx)(Q,{name:e.name,score:e.score,isWinner:(null==Y?void 0:Y.name)===e.name,isLeading:(null==ee?void 0:ee.name)===e.name,isLast:(null==te?void 0:te.name)===e.name&&t.length>1,maxScore:15,onPress:function(){return function(e){Y||(R(e),P(!0))}(o)}},o)})})]}),!d&&(0,V.jsx)(c.default,{style:pe.bottomBar,children:(0,V.jsxs)(c.default,{style:pe.buttonRow,children:[(0,V.jsx)(X,{label:"Deshacer",onPress:r,variant:"secondary",icon:(0,V.jsx)(se.default,{size:20,color:"white"}),style:pe.bottomButton}),(0,V.jsx)(X,{label:"Reiniciar",onPress:function(){N(!0),ce()},variant:"danger",icon:(0,V.jsx)(de.default,{size:20,color:"white"}),style:pe.bottomButton})]})}),(0,V.jsx)(oe,{isVisible:w,onClose:function(){return P(!1)},player:me,buttons:he}),(0,V.jsx)(ne,{isVisible:L,onClose:function(){return N(!1)},onConfirm:a,title:"Reiniciar Partida",message:"\xbfSeguro que quieres empezar de nuevo? Se perder\xe1 todo el progreso."})]})}var pe=b.default.create({container:{flex:1,backgroundColor:"#171717"},scrollContent:{paddingBottom:120,padding:24,paddingTop:48},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{color:"#ffffff",fontSize:36,fontWeight:"bold",letterSpacing:-1},subtitle:{color:"#a3a3a3",fontSize:20},settingsButton:{backgroundColor:"#262626",padding:12,borderRadius:50},editPanel:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#171717",zIndex:10,padding:24,paddingTop:48},editHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:32},editTitle:{color:"#ffffff",fontSize:30,fontWeight:"bold"},closeButton:{padding:8},inputContainer:{marginBottom:16},inputLabel:{color:"#d4d4d4",fontSize:18,fontWeight:"bold",marginBottom:8},textInput:{backgroundColor:"#262626",color:"#ffffff",borderRadius:12,padding:16,fontSize:18},saveButton:{marginTop:16},bottomBar:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"rgba(23, 23, 23, 0.8)",padding:16,borderTopWidth:1,borderTopColor:"#262626"},buttonRow:{flexDirection:"row",justifyContent:"space-around"},bottomButton:{flex:1,marginHorizontal:4},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},modalContent:{backgroundColor:"#171717",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"70%",marginTop:"auto",marginBottom:50},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:24,borderBottomWidth:1,borderBottomColor:"#262626"},modalTitle:{color:"#ffffff",fontSize:24,fontWeight:"bold"},modalList:{padding:24}}),be=o(6575),me=o(6195),he=o(286);function ye(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function xe(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ye(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function je(){var e=C(),t=e.trucoScores,o=e.addTrucoScore,r=e.undoLastTrucoScore,a=e.resetTrucoGame,i=(e.setTrucoTeams,e.trucoTeams),l=e.addFaltaEnvido,s=(0,n.useState)(!1),d=(0,u.default)(s,2),b=d[0],m=d[1],h=(0,n.useState)((0,y.default)(i)),x=(0,u.default)(h,2),j=x[0],v=x[1],S=(0,n.useState)(!1),w=(0,u.default)(S,2),P=w[0],O=w[1],T=(0,n.useState)(null),z=(0,u.default)(T,2),E=z[0],R=z[1],k=(0,n.useState)(!1),I=(0,u.default)(k,2),H=I[0],L=I[1],N=(0,n.useState)(!1),A=(0,u.default)(N,2),F=A[0],J=A[1],M=(0,n.useRef)(new U.default.Value(0)).current,$=(0,n.useRef)(new U.default.Value(0)).current,_=(0,n.useRef)(new U.default.Value(0)).current;(0,n.useEffect)(function(){v((0,y.default)(i))},[i]);var K=t.find(function(e){return e.score>=30}),Y=(0,n.useMemo)(function(){if(t.length<2)return{leader:null,last:null};var e=(0,y.default)(t).sort(function(e,t){return t.score-e.score});return{leader:e[0],last:e[e.length-1]}},[t]),Z=Y.leader,ee=Y.last;(0,n.useEffect)(function(){K&&(O(!1),te(),G.default.alert("\xa1Fin del Juego!",`\xa1${K.name} ha ganado la partida!`,[{text:"Nueva Partida",onPress:function(){return L(!0)},style:"destructive"},{text:"OK",style:"cancel"}]))},[K]);var te=function(){J(!0),U.default.timing(_,{toValue:1,duration:300,useNativeDriver:!0}).start()},re=function(){U.default.timing(_,{toValue:0,duration:300,useNativeDriver:!0}).start(function(){J(!1)})},ae=function(){U.default.parallel([U.default.timing(M,{toValue:0,duration:300,useNativeDriver:!0}),U.default.timing($,{toValue:0,duration:300,useNativeDriver:!0})]).start(function(){m(!1)})},ie=function(){j[0].trim()&&j[1].trim()?(v(j),ae()):G.default.alert("Error","Los nombres de los equipos no pueden estar vac\xedos")},ce=null!==E?xe(xe({},t[E]),{},{index:E}):null,fe=ce?[{label:"Envido (2)",onPress:function(){return o(ce.index,2)},icon:(0,V.jsx)(be.default,{size:18,color:"white"})},{label:"Real Envido (3)",onPress:function(){return o(ce.index,3)},icon:(0,V.jsx)(be.default,{size:18,color:"white"})},{label:"Falta Envido",onPress:function(){return l(ce.index)},icon:(0,V.jsx)(be.default,{size:18,color:"white"}),variant:"secondary"},{label:"Truco (2)",onPress:function(){return o(ce.index,2)},icon:(0,V.jsx)(me.default,{size:18,color:"white"})},{label:"Retruco (3)",onPress:function(){return o(ce.index,3)},icon:(0,V.jsx)(me.default,{size:18,color:"white"})},{label:"Vale Cuatro (4)",onPress:function(){return o(ce.index,4)},icon:(0,V.jsx)(me.default,{size:18,color:"white"})},{label:"+1 Punto",onPress:function(){return o(ce.index,1)},variant:"secondary",icon:(0,V.jsx)(he.default,{size:18,color:"white"})}].map(function(e){return xe(xe({},e),{},{disabled:!!K})}):[];return(0,V.jsxs)(c.default,{style:ve.container,children:[(0,V.jsx)(p.default,{barStyle:"light-content"}),F&&!P&&(0,V.jsx)(U.default.View,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,opacity:_},pointerEvents:"box-none",children:(0,V.jsx)(ue.default,{count:200,origin:{x:0,y:0},explosionSpeed:500,fallSpeed:4e3,fadeOut:!0,onAnimationEnd:re})}),(0,V.jsx)(function(){return(0,V.jsx)(B.default,{visible:b,transparent:!0,onRequestClose:ae,children:(0,V.jsx)(U.default.View,{style:[ve.modalOverlay,{opacity:$}],children:(0,V.jsxs)(U.default.View,{style:[ve.modalContent,{transform:[{translateY:M.interpolate({inputRange:[0,1],outputRange:[300,0]})}]}],children:[(0,V.jsxs)(c.default,{style:ve.modalHeader,children:[(0,V.jsx)(f.default,{style:ve.modalTitle,children:"Editar Equipos"}),(0,V.jsx)(g.default,{onPress:ae,style:ve.closeButton,children:(0,V.jsx)(W.default,{size:24,color:"#84cc16"})})]}),(0,V.jsxs)(D.default,{style:ve.modalList,children:[j.map(function(e,t){return(0,V.jsxs)(c.default,{style:ve.inputContainer,children:[(0,V.jsx)(f.default,{style:ve.inputLabel,children:0===t?"Nosotros":"Ellos"}),(0,V.jsx)(q.default,{style:ve.textInput,value:e,onChangeText:function(e){var o=(0,y.default)(j);o[t]=e,v(o)},placeholderTextColor:"#999"})]},t)}),(0,V.jsx)(X,{label:"Guardar Cambios",onPress:ie,style:ve.saveButton})]})]})})})},{}),(0,V.jsxs)(D.default,{contentContainerStyle:ve.scrollContent,children:[(0,V.jsxs)(c.default,{style:ve.header,children:[(0,V.jsxs)(c.default,{children:[(0,V.jsx)(f.default,{style:ve.title,children:"Truco"}),(0,V.jsxs)(f.default,{style:ve.subtitle,children:["A ",30," puntos"]})]}),(0,V.jsx)(g.default,{onPress:function(){m(!0),U.default.parallel([U.default.timing(M,{toValue:1,duration:300,useNativeDriver:!0}),U.default.timing($,{toValue:1,duration:300,useNativeDriver:!0})]).start()},style:ve.settingsButton,children:(0,V.jsx)(le.default,{size:24,color:"white"})})]}),(0,V.jsx)(c.default,{children:t.map(function(e,o){return(0,V.jsx)(Q,{name:e.name,score:e.score,isWinner:(null==K?void 0:K.name)===e.name,isLeading:(null==Z?void 0:Z.name)===e.name,isLast:(null==ee?void 0:ee.name)===e.name&&t.length>1,maxScore:30,onPress:function(){return function(e){K||(R(e),O(!0))}(o)}},o)})})]}),!b&&(0,V.jsx)(c.default,{style:ve.bottomBar,children:(0,V.jsxs)(c.default,{style:ve.buttonRow,children:[(0,V.jsx)(X,{label:"Deshacer",onPress:r,variant:"secondary",icon:(0,V.jsx)(se.default,{size:20,color:"white"}),style:ve.bottomButton}),(0,V.jsx)(X,{label:"Reiniciar",onPress:function(){L(!0),re()},variant:"danger",icon:(0,V.jsx)(de.default,{size:20,color:"white"}),style:ve.bottomButton})]})}),(0,V.jsx)(oe,{isVisible:P,onClose:function(){return O(!1)},player:ce,buttons:fe}),(0,V.jsx)(ne,{isVisible:H,onClose:function(){return L(!1)},onConfirm:a,title:"Reiniciar Partida",message:"\xbfEst\xe1s seguro de que quieres reiniciar la partida? Se perder\xe1 todo el progreso."})]})}var ve=b.default.create({container:{flex:1,backgroundColor:"#171717"},scrollContent:{paddingBottom:120,padding:24,paddingTop:48},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{color:"#ffffff",fontSize:36,fontWeight:"bold",letterSpacing:-1},subtitle:{color:"#a3a3a3",fontSize:20},settingsButton:{backgroundColor:"#262626",padding:12,borderRadius:50},editPanel:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#171717",zIndex:10,padding:24,paddingTop:48},editHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:32},editTitle:{color:"#ffffff",fontSize:30,fontWeight:"bold"},closeButton:{padding:8},inputContainer:{marginBottom:16},inputLabel:{color:"#d4d4d4",fontSize:18,fontWeight:"bold",marginBottom:8},textInput:{backgroundColor:"#262626",color:"#ffffff",borderRadius:12,padding:16,fontSize:18},saveButton:{marginTop:16},bottomBar:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"rgba(23, 23, 23, 0.8)",padding:16,borderTopWidth:1,borderTopColor:"#262626"},buttonRow:{flexDirection:"row",justifyContent:"space-around"},bottomButton:{flex:1,marginHorizontal:4},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},modalContent:{backgroundColor:"#171717",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"70%",marginTop:"auto",marginBottom:50},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:24,borderBottomWidth:1,borderBottomColor:"#262626"},modalTitle:{color:"#ffffff",fontSize:24,fontWeight:"bold"},modalList:{padding:24}});function Se(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function Ce(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Se(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var we=(0,x.create)(function(e,t){return{jugadores:[{id:1,nombre:"Jugador 1",puntos:0},{id:2,nombre:"Jugador 2",puntos:0}],historial:[],limitePuntos:100,ganador:null,agregarJugador:function(){var o=t().jugadores;if(o.length<6){var r=Math.max.apply(Math,(0,y.default)(o.map(function(e){return e.id})))+1,n={id:r,nombre:`Jugador ${r}`,puntos:0};e(function(e){return{jugadores:[].concat((0,y.default)(e.jugadores),[n])}}),t().guardarEnStorage()}},eliminarJugador:function(o){t().jugadores.length>2&&(e(function(e){return{jugadores:e.jugadores.filter(function(e){return e.id!==o})}}),t().guardarEnStorage())},cambiarNombreJugador:function(o,r){e(function(e){return{jugadores:e.jugadores.map(function(e){return e.id===o?Ce(Ce({},e),{},{nombre:r}):e})}}),t().guardarEnStorage()},agregarPuntos:function(o,r){var n=t().ganador;n&&n.length>0||(e(function(e){var t=e.jugadores.map(function(e){return e.id===o?Ce(Ce({},e),{},{puntos:e.puntos+r}):e}),n=[].concat((0,y.default)(e.historial),[{tipo:"agregarPuntos",jugadorId:o,puntos:r}]),a=t.some(function(t){return t.puntos>e.limitePuntos}),i=e.ganador;if(a&&!e.ganador){var l=Math.min.apply(Math,(0,y.default)(t.map(function(e){return e.puntos})));i=t.filter(function(e){return e.puntos===l}).map(function(e){return Ce(Ce({},e),{},{chinchon:!1})})}return{jugadores:t,historial:n,ganador:i}}),t().guardarEnStorage())},corte:function(o){t().ganador||(e(function(e){return{jugadores:e.jugadores.map(function(e){return e.id===o?Ce(Ce({},e),{},{puntos:Math.max(0,e.puntos-10)}):e}),historial:[].concat((0,y.default)(e.historial),[{tipo:"corte",jugadorId:o}])}}),t().guardarEnStorage())},chinchon:function(o){var r=t(),n=r.jugadores,a=r.ganador;if(!(a&&a.length>0)){var i=n.find(function(e){return e.id===o});i&&(e({ganador:[Ce(Ce({},i),{},{chinchon:!0})]}),t().guardarEnStorage())}},deshacerUltima:function(){var o=t(),r=o.historial;o.jugadores;if(0!==r.length){var n=r[r.length-1],a=r.slice(0,-1);if("chinchon"===n.tipo)return e({historial:a,ganador:null}),void t().guardarEnStorage();e(function(e){var t=(0,y.default)(e.jugadores),o=t.findIndex(function(e){return e.id===n.jugadorId});return-1!==o&&("agregarPuntos"===n.tipo?t[o]=Ce(Ce({},t[o]),{},{puntos:t[o].puntos-n.puntos}):"corte"===n.tipo&&(t[o]=Ce(Ce({},t[o]),{},{puntos:t[o].puntos+10}))),{jugadores:t,historial:a,ganador:null}}),t().guardarEnStorage()}},reiniciarPartida:function(){console.log("reiniciarPartida called in store"),e(function(e){return{jugadores:e.jugadores.map(function(e){return Ce(Ce({},e),{},{puntos:0})}),historial:[],ganador:null}}),t().guardarEnStorage(),console.log("reiniciarPartida completed")},cambiarLimite:function(o){e({limitePuntos:o}),t().guardarEnStorage()},verificarGanador:function(){},getJugadoresOrdenados:function(){var e=t().jugadores;return(0,y.default)(e).sort(function(e,t){return e.puntos-t.puntos})},guardarEnStorage:function(){var e=(0,h.default)(function*(){var e=t();try{yield j.default.setItem("chinchonState",JSON.stringify({jugadores:e.jugadores,historial:e.historial,limitePuntos:e.limitePuntos,ganador:e.ganador}))}catch(o){console.error("Error guardando estado de Chinch\xf3n:",o)}});return function(){return e.apply(this,arguments)}}(),cargarDesdeStorage:function(){var t=(0,h.default)(function*(){try{var t=yield j.default.getItem("chinchonState");if(t){var o=JSON.parse(t);o.ganador&&!Array.isArray(o.ganador)&&(o.ganador=[o.ganador]),e(o)}}catch(r){console.error("Error cargando estado de Chinch\xf3n:",r)}});return function(){return t.apply(this,arguments)}}()}}),Pe=o(2173),Oe=o(9988),Te=o(630);function ze(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function Be(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ze(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function De(){var e=we(),t=e.jugadores,o=e.ganador,r=e.limitePuntos,a=e.agregarPuntos,i=e.corte,l=e.chinchon,s=e.deshacerUltima,d=e.reiniciarPartida,b=e.agregarJugador,m=e.eliminarJugador,h=(e.cambiarNombreJugador,e.cargarDesdeStorage),x=e.cambiarLimite,j=(0,n.useState)(!1),v=(0,u.default)(j,2),S=v[0],C=v[1],w=(0,n.useState)([]),P=(0,u.default)(w,2),O=P[0],T=P[1],z=(0,n.useState)(!1),E=(0,u.default)(z,2),R=E[0],k=E[1],I=(0,n.useState)(null),H=(0,u.default)(I,2),L=H[0],N=H[1],A=(0,n.useState)(!1),F=(0,u.default)(A,2),J=F[0],M=F[1],$=(0,n.useState)(!1),_=(0,u.default)($,2),K=_[0],Y=_[1],Z=(0,n.useRef)(new U.default.Value(0)).current,ee=(0,n.useRef)(new U.default.Value(0)).current,te=(0,n.useRef)(new U.default.Value(0)).current;(0,n.useEffect)(function(){h()},[]),(0,n.useEffect)(function(){T(t.map(function(e){return e.nombre}))},[t]);var re=(0,n.useMemo)(function(){if(t.length<2)return{leader:null,last:null};var e=(0,y.default)(t).sort(function(e,t){return e.puntos-t.puntos});return{leader:e[0],last:e[e.length-1]}},[t]),ae=re.leader,ie=re.last,ce=t.find(function(e){return e.puntos>=r});(0,n.useEffect)(function(){ce&&(k(!1),fe(),G.default.alert("\xa1Fin del Juego!",`\xa1${ce.nombre} ha perdido la partida!`,[{text:"Nueva Partida",onPress:function(){return M(!0)},style:"destructive"},{text:"OK",style:"cancel"}]))},[ce]);var fe=function(){Y(!0),U.default.timing(te,{toValue:1,duration:300,useNativeDriver:!0}).start()},ge=function(){U.default.timing(te,{toValue:0,duration:300,useNativeDriver:!0}).start(function(){Y(!1)})},pe=function(){U.default.parallel([U.default.timing(Z,{toValue:0,duration:300,useNativeDriver:!0}),U.default.timing(ee,{toValue:0,duration:300,useNativeDriver:!0})]).start(function(){C(!1)})},be=function(){O.every(function(e){return e.trim()})?(T(O),pe()):G.default.alert("Error","Todos los nombres de jugadores deben estar completos")},me=L?t.find(function(e){return e.id===L}):null,he=me?[{label:"+1",onPress:function(){return a(me.id,1)}},{label:"+5",onPress:function(){return a(me.id,5)}},{label:"+10",onPress:function(){return a(me.id,10)}},{label:"+20",onPress:function(){return a(me.id,20)}},{label:"-10 (Corte)",onPress:function(){return i(me.id)},variant:"secondary"},{label:"\xa1Chinch\xf3n!",onPress:function(){return l(me.id)},variant:"primary",icon:(0,V.jsx)(Pe.default,{size:18,color:"white"})}].map(function(e){return Be(Be({},e),{},{disabled:!(null==o||!o.length)})}):[];return(0,V.jsxs)(c.default,{style:Ee.container,children:[(0,V.jsx)(p.default,{barStyle:"light-content"}),K&&!R&&(0,V.jsx)(U.default.View,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,opacity:te},pointerEvents:"box-none",children:(0,V.jsx)(ue.default,{count:200,origin:{x:0,y:0},explosionSpeed:500,fallSpeed:4e3,fadeOut:!0,onAnimationEnd:ge})}),(0,V.jsx)(function(){return(0,V.jsx)(B.default,{visible:S,transparent:!0,onRequestClose:pe,children:(0,V.jsx)(U.default.View,{style:[Ee.modalOverlay,{opacity:ee}],children:(0,V.jsxs)(U.default.View,{style:[Ee.modalContent,{transform:[{translateY:Z.interpolate({inputRange:[0,1],outputRange:[300,0]})}]}],children:[(0,V.jsxs)(c.default,{style:Ee.modalHeader,children:[(0,V.jsx)(f.default,{style:Ee.modalTitle,children:"Editar Partida"}),(0,V.jsx)(g.default,{onPress:pe,style:Ee.closeButton,children:(0,V.jsx)(W.default,{size:24,color:"#84cc16"})})]}),(0,V.jsxs)(D.default,{style:Ee.modalList,children:[(0,V.jsx)(f.default,{style:Ee.sectionTitle,children:"Jugadores"}),O.map(function(e,o){return(0,V.jsxs)(c.default,{style:Ee.playerInputRow,children:[(0,V.jsx)(q.default,{style:Ee.playerInput,value:e,onChangeText:function(e){var t=(0,y.default)(O);t[o]=e,T(t)},placeholderTextColor:"#999"}),(0,V.jsx)(g.default,{onPress:function(){return m(t[o].id)},disabled:t.length<=2,children:(0,V.jsx)(Oe.default,{size:28,color:t.length<=2?"#52525b":"#ef4444"})})]},t[o].id)}),(0,V.jsx)(X,{label:"Agregar Jugador",onPress:b,icon:(0,V.jsx)(Te.default,{size:20,color:"white"}),variant:"secondary",disabled:t.length>=6,style:Ee.addPlayerButton}),(0,V.jsx)(f.default,{style:Ee.sectionTitle,children:"L\xedmite de Puntos"}),(0,V.jsx)(c.default,{style:Ee.limiteContainer,children:[100,150,200].map(function(e){return(0,V.jsx)(g.default,{style:[Ee.limiteButton,r===e&&Ee.limiteButtonActive],onPress:function(){return x(e)},children:(0,V.jsx)(f.default,{style:[Ee.limiteButtonText,r===e&&Ee.limiteButtonTextActive],children:e})},e)})}),(0,V.jsx)(X,{label:"Guardar Cambios",onPress:be})]})]})})})},{}),(0,V.jsxs)(D.default,{contentContainerStyle:Ee.scrollContent,children:[(0,V.jsxs)(c.default,{style:Ee.header,children:[(0,V.jsxs)(c.default,{children:[(0,V.jsx)(f.default,{style:Ee.title,children:"Chinch\xf3n"}),(0,V.jsxs)(f.default,{style:Ee.subtitle,children:["L\xedmite: ",r]})]}),(0,V.jsx)(g.default,{onPress:function(){C(!0),U.default.parallel([U.default.timing(Z,{toValue:1,duration:300,useNativeDriver:!0}),U.default.timing(ee,{toValue:1,duration:300,useNativeDriver:!0})]).start()},style:Ee.settingsButton,children:(0,V.jsx)(le.default,{size:24,color:"white"})})]}),(0,V.jsx)(c.default,{children:t.map(function(e){return(0,V.jsx)(Q,{name:e.nombre,score:e.puntos,isWinner:null==o?void 0:o.some(function(t){return t.id===e.id}),isLeading:(null==ae?void 0:ae.id)===e.id,isLast:(null==ie?void 0:ie.id)===e.id&&t.length>1,maxScore:r,onPress:function(){return t=e,void(o&&o.length>0||(N(t.id),k(!0)));var t},gameType:"chinchon"},e.id)})})]}),!S&&(0,V.jsx)(c.default,{style:Ee.bottomBar,children:(0,V.jsxs)(c.default,{style:Ee.buttonRow,children:[(0,V.jsx)(X,{label:"Deshacer",onPress:s,variant:"secondary",icon:(0,V.jsx)(se.default,{size:20,color:"white"}),style:Ee.bottomButton}),(0,V.jsx)(X,{label:"Reiniciar",onPress:function(){M(!0),ge()},variant:"danger",icon:(0,V.jsx)(de.default,{size:20,color:"white"}),style:Ee.bottomButton})]})}),(0,V.jsx)(oe,{isVisible:R,onClose:function(){return k(!1)},player:me,buttons:he}),(0,V.jsx)(ne,{isVisible:J,onClose:function(){return M(!1)},onConfirm:d,title:"Reiniciar Partida",message:"\xbfEst\xe1s seguro de que quieres empezar de cero? Se perder\xe1 todo el progreso."})]})}var Ee=b.default.create({container:{flex:1,backgroundColor:"#171717"},scrollContent:{paddingBottom:120,padding:24,paddingTop:48},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{color:"#ffffff",fontSize:36,fontWeight:"bold",letterSpacing:-1},subtitle:{color:"#a3a3a3",fontSize:20},settingsButton:{backgroundColor:"#262626",padding:12,borderRadius:50},editPanel:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#171717",zIndex:10,padding:24,paddingTop:48},editHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:32},editTitle:{color:"#ffffff",fontSize:30,fontWeight:"bold"},closeButton:{padding:8},sectionTitle:{color:"#d4d4d4",fontSize:18,fontWeight:"bold",marginBottom:12},playerInputRow:{flexDirection:"row",alignItems:"center",marginBottom:12},playerInput:{flex:1,backgroundColor:"#262626",color:"#ffffff",borderRadius:12,padding:16,marginRight:12,fontSize:18},addPlayerButton:{marginTop:8},limiteContainer:{flexDirection:"row",justifyContent:"space-around",marginBottom:32},limiteButton:{paddingHorizontal:24,paddingVertical:12,borderRadius:12,borderWidth:2,borderColor:"#404040"},limiteButtonActive:{backgroundColor:"#84cc16",borderColor:"#84cc16"},limiteButtonText:{fontWeight:"bold",fontSize:18,color:"#d4d4d4"},limiteButtonTextActive:{color:"#ffffff"},bottomBar:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"rgba(23, 23, 23, 0.8)",padding:16,borderTopWidth:1,borderTopColor:"#262626"},buttonRow:{flexDirection:"row",justifyContent:"space-around"},bottomButton:{flex:1,marginHorizontal:4},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},modalContent:{backgroundColor:"#171717",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"70%",marginTop:"auto",marginBottom:50},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:24,borderBottomWidth:1,borderBottomColor:"#262626"},modalTitle:{color:"#ffffff",fontSize:24,fontWeight:"bold"},modalList:{padding:24}});function Re(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function ke(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Re(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var Ie=(0,l.default)(),He=ke(ke({},a.default),{},{colors:ke(ke({},a.default.colors),{},{background:"#171717",card:"#171717"})});function We(){return(0,V.jsx)(d.SafeAreaProvider,{children:(0,V.jsx)(i.default,{theme:He,children:(0,V.jsxs)(Ie.Navigator,{initialRouteName:"Home",screenOptions:{headerStyle:{backgroundColor:"#171717",borderBottomWidth:0,elevation:0,shadowOpacity:0},headerTintColor:"#84cc16",headerTitleStyle:{color:"#ffffff",fontWeight:"bold"},cardStyle:{backgroundColor:"#171717"},cardStyleInterpolator:s.forHorizontalIOS},children:[(0,V.jsx)(Ie.Screen,{name:"Home",component:J,options:{headerShown:!1}}),(0,V.jsx)(Ie.Screen,{name:"Truco",component:je,options:{title:""}}),(0,V.jsx)(Ie.Screen,{name:"Chinchon",component:De,options:{title:""}}),(0,V.jsx)(Ie.Screen,{name:"Escoba",component:ge,options:{title:""}})]})})})}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}o.m=e,(()=>{var e=[];o.O=(t,r,n,a)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,n,a]=e[u],l=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(o.O).every(e=>o.O[e](r[s]))?r.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var d=n();void 0!==d&&(t=d)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[i,l,s]=r,d=0;if(i.some(t=>0!==e[t])){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(s)var u=s(o)}for(t&&t(r);d<i.length;d++)a=i[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=o.O(void 0,[806],()=>o(5036));r=o.O(r)})();
//# sourceMappingURL=main.2dd6d923.js.map
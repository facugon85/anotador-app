{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { create } from 'zustand';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nexport var useChinchonStore = create(function (set, get) {\n  return {\n    jugadores: [{\n      id: 1,\n      nombre: 'Jugador 1',\n      puntos: 0\n    }, {\n      id: 2,\n      nombre: 'Jugador 2',\n      puntos: 0\n    }],\n    historial: [],\n    limitePuntos: 100,\n    ganador: null,\n    agregarJugador: function agregarJugador() {\n      var _get = get(),\n        jugadores = _get.jugadores;\n      if (jugadores.length < 6) {\n        var nuevoId = Math.max.apply(Math, _toConsumableArray(jugadores.map(function (j) {\n          return j.id;\n        }))) + 1;\n        var nuevoJugador = {\n          id: nuevoId,\n          nombre: `Jugador ${nuevoId}`,\n          puntos: 0\n        };\n        set(function (state) {\n          return {\n            jugadores: [].concat(_toConsumableArray(state.jugadores), [nuevoJugador])\n          };\n        });\n        get().guardarEnStorage();\n      }\n    },\n    eliminarJugador: function eliminarJugador(id) {\n      var _get2 = get(),\n        jugadores = _get2.jugadores;\n      if (jugadores.length > 2) {\n        set(function (state) {\n          return {\n            jugadores: state.jugadores.filter(function (j) {\n              return j.id !== id;\n            })\n          };\n        });\n        get().guardarEnStorage();\n      }\n    },\n    cambiarNombreJugador: function cambiarNombreJugador(id, nuevoNombre) {\n      set(function (state) {\n        return {\n          jugadores: state.jugadores.map(function (j) {\n            return j.id === id ? _objectSpread(_objectSpread({}, j), {}, {\n              nombre: nuevoNombre\n            }) : j;\n          })\n        };\n      });\n      get().guardarEnStorage();\n    },\n    agregarPuntos: function agregarPuntos(id, puntos) {\n      var _get3 = get(),\n        ganador = _get3.ganador;\n      if (ganador && ganador.length > 0) return;\n      set(function (state) {\n        var nuevosJugadores = state.jugadores.map(function (j) {\n          return j.id === id ? _objectSpread(_objectSpread({}, j), {}, {\n            puntos: j.puntos + puntos\n          }) : j;\n        });\n        var historialActualizado = [].concat(_toConsumableArray(state.historial), [{\n          tipo: 'agregarPuntos',\n          jugadorId: id,\n          puntos: puntos\n        }]);\n        var alguienPerdio = nuevosJugadores.some(function (j) {\n          return j.puntos > state.limitePuntos;\n        });\n        var nuevoGanador = state.ganador;\n        if (alguienPerdio && !state.ganador) {\n          var lowestScore = Math.min.apply(Math, _toConsumableArray(nuevosJugadores.map(function (j) {\n            return j.puntos;\n          })));\n          var ganadores = nuevosJugadores.filter(function (j) {\n            return j.puntos === lowestScore;\n          }).map(function (g) {\n            return _objectSpread(_objectSpread({}, g), {}, {\n              chinchon: false\n            });\n          });\n          nuevoGanador = ganadores;\n        }\n        return {\n          jugadores: nuevosJugadores,\n          historial: historialActualizado,\n          ganador: nuevoGanador\n        };\n      });\n      get().guardarEnStorage();\n    },\n    corte: function corte(id) {\n      var _get4 = get(),\n        ganador = _get4.ganador;\n      if (ganador) return;\n      set(function (state) {\n        var nuevosJugadores = state.jugadores.map(function (j) {\n          return j.id === id ? _objectSpread(_objectSpread({}, j), {}, {\n            puntos: Math.max(0, j.puntos - 10)\n          }) : j;\n        });\n        var historialActualizado = [].concat(_toConsumableArray(state.historial), [{\n          tipo: 'corte',\n          jugadorId: id\n        }]);\n        return {\n          jugadores: nuevosJugadores,\n          historial: historialActualizado\n        };\n      });\n      get().guardarEnStorage();\n    },\n    chinchon: function chinchon(id) {\n      var _get5 = get(),\n        jugadores = _get5.jugadores,\n        ganador = _get5.ganador;\n      if (ganador && ganador.length > 0) return;\n      var jugadorGanador = jugadores.find(function (j) {\n        return j.id === id;\n      });\n      if (jugadorGanador) {\n        set({\n          ganador: [_objectSpread(_objectSpread({}, jugadorGanador), {}, {\n            chinchon: true\n          })]\n        });\n        get().guardarEnStorage();\n      }\n    },\n    deshacerUltima: function deshacerUltima() {\n      var _get6 = get(),\n        historial = _get6.historial,\n        jugadores = _get6.jugadores;\n      if (historial.length === 0) return;\n      var ultimaAccion = historial[historial.length - 1];\n      var nuevoHistorial = historial.slice(0, -1);\n      if (ultimaAccion.tipo === 'chinchon') {\n        set({\n          historial: nuevoHistorial,\n          ganador: null\n        });\n        get().guardarEnStorage();\n        return;\n      }\n      set(function (state) {\n        var nuevosJugadores = _toConsumableArray(state.jugadores);\n        var index = nuevosJugadores.findIndex(function (j) {\n          return j.id === ultimaAccion.jugadorId;\n        });\n        if (index !== -1) {\n          if (ultimaAccion.tipo === 'agregarPuntos') {\n            nuevosJugadores[index] = _objectSpread(_objectSpread({}, nuevosJugadores[index]), {}, {\n              puntos: nuevosJugadores[index].puntos - ultimaAccion.puntos\n            });\n          } else if (ultimaAccion.tipo === 'corte') {\n            nuevosJugadores[index] = _objectSpread(_objectSpread({}, nuevosJugadores[index]), {}, {\n              puntos: nuevosJugadores[index].puntos + 10\n            });\n          }\n        }\n        return {\n          jugadores: nuevosJugadores,\n          historial: nuevoHistorial,\n          ganador: null\n        };\n      });\n      get().guardarEnStorage();\n    },\n    reiniciarPartida: function reiniciarPartida() {\n      console.log('reiniciarPartida called in store');\n      set(function (state) {\n        return {\n          jugadores: state.jugadores.map(function (j) {\n            return _objectSpread(_objectSpread({}, j), {}, {\n              puntos: 0\n            });\n          }),\n          historial: [],\n          ganador: null\n        };\n      });\n      get().guardarEnStorage();\n      console.log('reiniciarPartida completed');\n    },\n    cambiarLimite: function cambiarLimite(nuevoLimite) {\n      set({\n        limitePuntos: nuevoLimite\n      });\n      get().guardarEnStorage();\n    },\n    verificarGanador: function verificarGanador() {},\n    getJugadoresOrdenados: function getJugadoresOrdenados() {\n      var _get7 = get(),\n        jugadores = _get7.jugadores;\n      return _toConsumableArray(jugadores).sort(function (a, b) {\n        return a.puntos - b.puntos;\n      });\n    },\n    guardarEnStorage: function () {\n      var _guardarEnStorage = _asyncToGenerator(function* () {\n        var state = get();\n        try {\n          yield AsyncStorage.setItem('chinchonState', JSON.stringify({\n            jugadores: state.jugadores,\n            historial: state.historial,\n            limitePuntos: state.limitePuntos,\n            ganador: state.ganador\n          }));\n        } catch (error) {\n          console.error('Error guardando estado de Chinchón:', error);\n        }\n      });\n      function guardarEnStorage() {\n        return _guardarEnStorage.apply(this, arguments);\n      }\n      return guardarEnStorage;\n    }(),\n    cargarDesdeStorage: function () {\n      var _cargarDesdeStorage = _asyncToGenerator(function* () {\n        try {\n          var savedState = yield AsyncStorage.getItem('chinchonState');\n          if (savedState) {\n            var parsedState = JSON.parse(savedState);\n            if (parsedState.ganador && !Array.isArray(parsedState.ganador)) {\n              parsedState.ganador = [parsedState.ganador];\n            }\n            set(parsedState);\n          }\n        } catch (error) {\n          console.error('Error cargando estado de Chinchón:', error);\n        }\n      });\n      function cargarDesdeStorage() {\n        return _cargarDesdeStorage.apply(this, arguments);\n      }\n      return cargarDesdeStorage;\n    }()\n  };\n});","map":{"version":3,"names":["create","AsyncStorage","useChinchonStore","set","get","jugadores","id","nombre","puntos","historial","limitePuntos","ganador","agregarJugador","_get","length","nuevoId","Math","max","apply","_toConsumableArray","map","j","nuevoJugador","state","concat","guardarEnStorage","eliminarJugador","_get2","filter","cambiarNombreJugador","nuevoNombre","_objectSpread","agregarPuntos","_get3","nuevosJugadores","historialActualizado","tipo","jugadorId","alguienPerdio","some","nuevoGanador","lowestScore","min","ganadores","g","chinchon","corte","_get4","_get5","jugadorGanador","find","deshacerUltima","_get6","ultimaAccion","nuevoHistorial","slice","index","findIndex","reiniciarPartida","console","log","cambiarLimite","nuevoLimite","verificarGanador","getJugadoresOrdenados","_get7","sort","a","b","_guardarEnStorage","_asyncToGenerator","setItem","JSON","stringify","error","arguments","cargarDesdeStorage","_cargarDesdeStorage","savedState","getItem","parsedState","parse","Array","isArray"],"sources":["C:/Users/facun/Desktop/counter/store/chinchonStore.js"],"sourcesContent":["import { create } from 'zustand';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nexport const useChinchonStore = create((set, get) => ({\r\n  // Estado del juego\r\n  jugadores: [\r\n    { id: 1, nombre: 'Jugador 1', puntos: 0 },\r\n    { id: 2, nombre: 'Jugador 2', puntos: 0 },\r\n  ],\r\n  historial: [],\r\n  limitePuntos: 100,\r\n  ganador: null,\r\n\r\n  // Acciones para jugadores\r\n  agregarJugador: () => {\r\n    const { jugadores } = get();\r\n    if (jugadores.length < 6) {\r\n      const nuevoId = Math.max(...jugadores.map(j => j.id)) + 1;\r\n      const nuevoJugador = {\r\n        id: nuevoId,\r\n        nombre: `Jugador ${nuevoId}`,\r\n        puntos: 0\r\n      };\r\n      \r\n      set(state => ({\r\n        jugadores: [...state.jugadores, nuevoJugador]\r\n      }));\r\n      get().guardarEnStorage();\r\n    }\r\n  },\r\n\r\n  eliminarJugador: (id) => {\r\n    const { jugadores } = get();\r\n    if (jugadores.length > 2) {\r\n      set(state => ({\r\n        jugadores: state.jugadores.filter(j => j.id !== id)\r\n      }));\r\n      get().guardarEnStorage();\r\n    }\r\n  },\r\n\r\n  cambiarNombreJugador: (id, nuevoNombre) => {\r\n    set(state => ({\r\n      jugadores: state.jugadores.map(j => \r\n        j.id === id ? { ...j, nombre: nuevoNombre } : j\r\n      )\r\n    }));\r\n    get().guardarEnStorage();\r\n  },\r\n\r\n  // Acciones de puntuación\r\n  agregarPuntos: (id, puntos) => {\r\n    const { ganador } = get();\r\n    if (ganador && ganador.length > 0) return;\r\n\r\n    set(state => {\r\n      const nuevosJugadores = state.jugadores.map(j =>\r\n        j.id === id ? { ...j, puntos: j.puntos + puntos } : j\r\n      );\r\n\r\n      const historialActualizado = [\r\n        ...state.historial, \r\n        { tipo: 'agregarPuntos', jugadorId: id, puntos: puntos }\r\n      ];\r\n      \r\n      const alguienPerdio = nuevosJugadores.some(j => j.puntos > state.limitePuntos);\r\n      let nuevoGanador = state.ganador;\r\n\r\n      if (alguienPerdio && !state.ganador) {\r\n        const lowestScore = Math.min(...nuevosJugadores.map(j => j.puntos));\r\n        const ganadores = nuevosJugadores\r\n          .filter(j => j.puntos === lowestScore)\r\n          .map(g => ({ ...g, chinchon: false }));\r\n        \r\n        nuevoGanador = ganadores;\r\n      }\r\n\r\n      return { \r\n        jugadores: nuevosJugadores,\r\n        historial: historialActualizado,\r\n        ganador: nuevoGanador \r\n      };\r\n    });\r\n\r\n    get().guardarEnStorage();\r\n  },\r\n\r\n  corte: (id) => {\r\n    const { ganador } = get();\r\n    if (ganador) return;\r\n\r\n    set(state => {\r\n      const nuevosJugadores = state.jugadores.map(j =>\r\n        j.id === id ? { ...j, puntos: Math.max(0, j.puntos - 10) } : j // Evitar puntos negativos\r\n      );\r\n\r\n      const historialActualizado = [\r\n        ...state.historial, \r\n        { tipo: 'corte', jugadorId: id }\r\n      ];\r\n\r\n      // No se verifica ganador en un corte, solo se actualizan puntos.\r\n      return { \r\n        jugadores: nuevosJugadores,\r\n        historial: historialActualizado \r\n      };\r\n    });\r\n\r\n    get().guardarEnStorage();\r\n  },\r\n\r\n  chinchon: (id) => {\r\n    const { jugadores, ganador } = get();\r\n    if (ganador && ganador.length > 0) return;\r\n\r\n    const jugadorGanador = jugadores.find(j => j.id === id);\r\n    if (jugadorGanador) {\r\n      set({ ganador: [{ ...jugadorGanador, chinchon: true }] });\r\n      get().guardarEnStorage();\r\n    }\r\n  },\r\n\r\n  deshacerUltima: () => {\r\n    const { historial, jugadores } = get();\r\n    if (historial.length === 0) return;\r\n\r\n    const ultimaAccion = historial[historial.length - 1];\r\n    const nuevoHistorial = historial.slice(0, -1);\r\n\r\n    if (ultimaAccion.tipo === 'chinchon') {\r\n      set({ historial: nuevoHistorial, ganador: null });\r\n      get().guardarEnStorage();\r\n      return; \r\n    }\r\n\r\n    set(state => {\r\n      const nuevosJugadores = [...state.jugadores];\r\n      const index = nuevosJugadores.findIndex(j => j.id === ultimaAccion.jugadorId);\r\n\r\n      if (index !== -1) {\r\n        if (ultimaAccion.tipo === 'agregarPuntos') {\r\n          nuevosJugadores[index] = {\r\n            ...nuevosJugadores[index],\r\n            puntos: nuevosJugadores[index].puntos - ultimaAccion.puntos,\r\n          };\r\n        } else if (ultimaAccion.tipo === 'corte') {\r\n          nuevosJugadores[index] = {\r\n            ...nuevosJugadores[index],\r\n            puntos: nuevosJugadores[index].puntos + 10,\r\n          };\r\n        }\r\n      }\r\n      \r\n      return { \r\n        jugadores: nuevosJugadores, \r\n        historial: nuevoHistorial, \r\n        ganador: null \r\n      };\r\n    });\r\n\r\n    get().guardarEnStorage();\r\n  },\r\n\r\n  reiniciarPartida: () => {\r\n    console.log('reiniciarPartida called in store');\r\n    set(state => ({\r\n      jugadores: state.jugadores.map(j => ({ ...j, puntos: 0 })),\r\n      historial: [],\r\n      ganador: null\r\n    }));\r\n    get().guardarEnStorage();\r\n    console.log('reiniciarPartida completed');\r\n  },\r\n\r\n  cambiarLimite: (nuevoLimite) => {\r\n    set({ limitePuntos: nuevoLimite });\r\n    get().guardarEnStorage();\r\n  },\r\n\r\n  // Verificar ganador (YA NO SE USA DIRECTAMENTE, la lógica se movió)\r\n  verificarGanador: () => {\r\n    // Esta función ahora está vacía o puede ser eliminada,\r\n    // ya que su lógica se ha integrado en agregarPuntos.\r\n  },\r\n\r\n  // Obtener jugadores ordenados por puntos (menor a mayor)\r\n  getJugadoresOrdenados: () => {\r\n    const { jugadores } = get();\r\n    return [...jugadores].sort((a, b) => a.puntos - b.puntos);\r\n  },\r\n\r\n  // Persistencia\r\n  guardarEnStorage: async () => {\r\n    const state = get();\r\n    try {\r\n      await AsyncStorage.setItem('chinchonState', JSON.stringify({\r\n        jugadores: state.jugadores,\r\n        historial: state.historial,\r\n        limitePuntos: state.limitePuntos,\r\n        ganador: state.ganador\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error guardando estado de Chinchón:', error);\r\n    }\r\n  },\r\n\r\n  cargarDesdeStorage: async () => {\r\n    try {\r\n      const savedState = await AsyncStorage.getItem('chinchonState');\r\n      if (savedState) {\r\n        const parsedState = JSON.parse(savedState);\r\n        \r\n        // Migración para el estado de 'ganador'\r\n        if (parsedState.ganador && !Array.isArray(parsedState.ganador)) {\r\n          // Si 'ganador' existe pero no es un array, es el formato antiguo.\r\n          // Lo convertimos a un array para que sea compatible.\r\n          parsedState.ganador = [parsedState.ganador];\r\n        }\r\n\r\n        set(parsedState);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando estado de Chinchón:', error);\r\n    }\r\n  }\r\n})); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}